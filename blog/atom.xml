<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://harness-community.github.io/blog</id>
    <title>Harness ❤️ Open Source Blog</title>
    <updated>2022-11-11T00:00:00.000Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://harness-community.github.io/blog"/>
    <subtitle>Harness ❤️ Open Source Blog</subtitle>
    <icon>https://harness-community.github.io/img/favicon.ico</icon>
    <entry>
        <title type="html"><![CDATA[Using Harness CI for Maven Testing]]></title>
        <id>maven-testing-in-harness-ci</id>
        <link href="https://harness-community.github.io/blog/maven-testing-in-harness-ci"/>
        <updated>2022-11-11T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Introduction]]></summary>
        <content type="html"><![CDATA[<h3 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a class="hash-link" href="#introduction" title="Direct link to heading">​</a></h3><p>In this tutorial, we will go through a step-by-step example, on how to use the Harness CI for Maven testing. </p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="pre-requisite">Pre-Requisite:<a class="hash-link" href="#pre-requisite" title="Direct link to heading">​</a></h4><p><a href="https://docs.harness.io/article/u9bsd77g5a-docker-registry-connector-settings-reference#docker-connector-settings-reference" target="_blank" rel="noopener noreferrer">Docker Connector</a> to fetch public Docker images of <a href="https://hub.docker.com/r/rvancea/maven-chrome-jdk8" target="_blank" rel="noopener noreferrer">maven chrome jdk8</a></p><p>Let’s now deepdive into the step-by-step tutorial, wherein we will now use the Harness SaaS platform to set-up the maven testing:</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-1">Step-1:<a class="hash-link" href="#step-1" title="Direct link to heading">​</a></h4><p>Start with the <strong>build module</strong>, and give it a name test, make sure to keep the clone codebase slider “off” as it is not required in this example.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-2">Step-2:<a class="hash-link" href="#step-2" title="Direct link to heading">​</a></h4><p>Now let’s move to the next part of the pipeline, which is to select the infrastructure and select <strong>Harness Hosted Builds</strong> under the same.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-3">Step-3:<a class="hash-link" href="#step-3" title="Direct link to heading">​</a></h4><p>Moving on to the execution step, let’s add a <strong>Run Step</strong> and name it as “testrun” and under the container registry add the already created Docker Connector, and under the image add the “rvancea/maven-chrome-jdk8”. Now let’s add a shell command to run <code>mvn clean compile -DsuiteXmlFile=Batch1 test</code>  and apply the changes. </p><p><img loading="lazy" alt="testrun" src="/assets/images/testrun-dd7560c6c6ddb06d3ea8783fe33bbfb4.png" width="3456" height="1936" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-4">Step-4:<a class="hash-link" href="#step-4" title="Direct link to heading">​</a></h4><p>Now, let’s add another <strong>Run Step</strong> similar to the above and name it as reports, just here contrary to the above step the command changes to <code>find . -name "*.xml"</code>.</p><p><img loading="lazy" alt="filesgen" src="/assets/images/filesgen-6787d65bf0d69cb44c4c40e6014b064d.png" width="3282" height="1176" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-5">Step-5:<a class="hash-link" href="#step-5" title="Direct link to heading">​</a></h4><p>It’s time to add the failure strategy now as a <strong>Run Step</strong>, with the following command.</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token assign-left variable" style="color:#36acaa">actualFailedTestsStatus</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">+execution.steps.testrun.status</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$actualFailedTestsStatus</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"</span><span class="token string variable" style="color:#36acaa">$actualFailedTestsStatus</span><span class="token string" style="color:#e3116c">"</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"IGNORE_FAILED"</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">then</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"tests have failed"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token builtin class-name">exit</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Failure reruns have passed"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token builtin class-name">exit</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">fi</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="faliurestrat" src="/assets/images/failurestrat-035bb8d12561bbd5dd36e9af91b132bf.png" width="3450" height="1618" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="step-6">Step-6:<a class="hash-link" href="#step-6" title="Direct link to heading">​</a></h4><p>Now, since the pipeline is complete, let’s save and run the same and the results looks like the following on the console logs.</p><p><img loading="lazy" alt="result" src="/assets/images/result-a7ba9e44701bf919eb1781eef869bf56.png" width="1782" height="438" class="img_ev3q"></p><p><img loading="lazy" alt="reports" src="/assets/images/reports-bf785b61040aacde4131e20dcb20b49b.png" width="3456" height="1372" class="img_ev3q"></p><p>Once the run is successful, the above list of files are generated and can be further stored and processed as the test reports. </p><p>For, further reference following is the pipeline yaml of the above mentioned example</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">pipeline</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">identifier</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">projectIdentifier</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> HarnessDemo1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">orgIdentifier</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">tags</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">stages</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">stage</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">identifier</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> CI</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">cloneCodebase</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">infrastructure</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> KubernetesHosted</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">identifier</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> k8s</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">hosted</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">infra</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">execution</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">steps</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">step</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Run</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> testrun</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><span class="token key atrule" style="color:#00a4db">identifier</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> testrun</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token key atrule" style="color:#00a4db">connectorRef</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> account.harnessImage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> rvancea/maven</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">chrome</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">jdk8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token key atrule" style="color:#00a4db">shell</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token key atrule" style="color:#00a4db">command</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token plain">+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      mvn clean compile </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">DsuiteXmlFile=Batch1 test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token key atrule" style="color:#00a4db">privileged</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token key atrule" style="color:#00a4db">reports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> JUnit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      </span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token key atrule" style="color:#00a4db">paths</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> target/surefire</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">reports/junitreports/</span><span class="token important">*.xml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><span class="token key atrule" style="color:#00a4db">failureStrategies</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">onFailure</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token key atrule" style="color:#00a4db">errors</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                          </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> AllErrors</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token key atrule" style="color:#00a4db">action</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                          </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Ignore</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">step</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Run</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> reports</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><span class="token key atrule" style="color:#00a4db">identifier</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> failstrat</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token key atrule" style="color:#00a4db">connectorRef</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> account.harnessImage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> rvancea/maven</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">chrome</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">jdk8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token key atrule" style="color:#00a4db">shell</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token key atrule" style="color:#00a4db">command</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> find . </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">name "</span><span class="token important">*.xml"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><span class="token key atrule" style="color:#00a4db">when</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token key atrule" style="color:#00a4db">stageStatus</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> All</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><span class="token key atrule" style="color:#00a4db">failureStrategies</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">step</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Run</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> failstrategy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><span class="token key atrule" style="color:#00a4db">identifier</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> step3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token key atrule" style="color:#00a4db">connectorRef</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> account.harnessImage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> rvancea/maven</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">chrome</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">jdk8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token key atrule" style="color:#00a4db">shell</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token key atrule" style="color:#00a4db">command</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      actualFailedTestsStatus=&lt;+execution.steps.testrun.status</span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      echo $actualFailedTestsStatus</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      if </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> "$actualFailedTestsStatus" = "IGNORE_FAILED" </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        echo "tests have failed"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        exit 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      else </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        echo "Failure reruns have passed"</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        exit 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      fi </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><span class="token key atrule" style="color:#00a4db">when</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token key atrule" style="color:#00a4db">stageStatus</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> All</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><span class="token key atrule" style="color:#00a4db">failureStrategies</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">properties</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">ci</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">codebase</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">connectorRef</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> harnessRud</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">build</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> &lt;+input</span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain"> </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="whats-next">What’s Next?<a class="hash-link" href="#whats-next" title="Direct link to heading">​</a></h4><p>The above pipeline and use case was the requirement of one our community user and was built according to their requirements by the community engineering team so, feel free to ask questions at <a href="https://community.harness.io/c/harness/7" target="_blank" rel="noopener noreferrer">community.harness.io</a> or  <a href="https://join.slack.com/t/harnesscommunity/shared_invite/zt-y4hdqh7p-RVuEQyIl5Hcx4Ck8VCvzBw" target="_blank" rel="noopener noreferrer">join community slack</a> to chat with our engineers in product-specific channels like:</p><ul><li><a href="https://join.slack.com/share/enQtMzkwNjIzMDIxMDEwMy1mYjM2M2FlY2Y3ZWM5ZTRiMGM0MzI1ZTA2YzIxNDYzYjFiODVjZjZlZmE5ZTRmZmZlZjEzYWY1YzU4ODdmNmVj" target="_blank" rel="noopener noreferrer">#continuous-delivery</a>  Get support regarding the CD Module of Harness.</li><li><a href="https://join.slack.com/share/enQtMzkyMzI1ODcxNzAxMi05MTI2M2VlNmVhZDY4NTlkM2JiODgxNWQ5NzY4NGU4MjE0MDQ1MDhlZTM0ZjA1ZjAyNjc3N2E4YmY2ZTc2YWY0" target="_blank" rel="noopener noreferrer">#continuous-integration</a> Get support regarding the CI Module of Harness.</li></ul>]]></content>
        <author>
            <name>Debabrata Panigrahi</name>
            <uri>https://github.com/Debanitrkl</uri>
        </author>
        <category label="continuous-integration" term="continuous-integration"/>
        <category label="harness" term="harness"/>
        <category label="maven" term="maven"/>
        <category label="cme" term="cme"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Harness Cloud Cost Management - an active cloud cost solution]]></title>
        <id>ccm-active-cloud-cost-solution</id>
        <link href="https://harness-community.github.io/blog/ccm-active-cloud-cost-solution"/>
        <updated>2022-11-09T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Billions of dollars are impacted through clouds annually and with experience, organisations are able to observe the bigger picture where cloud costs outweigh the benefits. Harness Cloud Cost Management, an active cloud cost solution can save up to 75% of your cloud spend.]]></summary>
        <content type="html"><![CDATA[<p>Billions of dollars are impacted through clouds annually and with experience, organisations are able to observe the bigger picture where cloud costs outweigh the benefits. Harness Cloud Cost Management, an active cloud cost solution can save up to 75% of your cloud spend.</p><p>In this blog, we are going to discuss cloud cost solutions which can cut down manual overheads and automate cloud savings when you’re busy writing code.</p><h1>Getting Started</h1><p>Now, before we take our discussion to active cloud cost solutions with Harness CCM, let’s get an overview of passive and active cloud cost solutions.</p><p>Harness CCM allows an organisation to understand and manage its cloud cost through visibility and automation. On this basis, cloud cost management can be broadly categorised into the following - </p><ul><li><strong>Passive Cloud Cost Management</strong> - Cloud management through such techniques includes visibility into cloud cost and forecast based on usage history. This includes calculating total cost and providing deep root knowledge about one’s cloud spending.</li><li><strong>Active Cloud Cost Management</strong> - An instance, where passive solution alerts about hiking costs, an active cloud cost solution is capable of making intelligent and automated decisions. This can help in scaling down resources and cutting down costs due to idle or over-provisioned resources.</li></ul><p>The latter can be achieved through Harness Next Geneneration CCM. </p><h1>Harness First Gen CCM</h1><p>Harness First Generation of CCM, provides visibility into your cloud resource at an hourly granularity. It’s a “tag-less” solution i.e you don’t need tagging to get relevant information at any level. It is designed to provide relevant insights into cloud cost which can assist in maintenance and analysis. It has features such as -</p><ul><li><strong>Anomaly Detection</strong> - any sudden change in cloud spending could be notified through slack or email</li><li><strong>Forecasting</strong> - Based on cloud usage history a prediction model tracks and forecast your cloud cost at required intervals.</li><li><strong>Budgeting -</strong> This feature allows you to set budgets at different levels of your organisation and provide you email alerts when spending exceeds the set amount</li></ul><p>Harness First Generation is capable of doing root cost analysis if tied up with Harness's continuous delivery service.</p><h1>Harness Next Gen CCM</h1><p>Harness Next Gen, provides the visibility of First Gen and is capable of regulating cloud costs through intelligent automation. This makes Harness Next Gen an active cloud cost management solution. </p><p>Harness Next Gen enables an organisation to maintain and regulate cloud cost through custom rules which allows scaling down of idle or over-provisioned resources. </p><h1>Features of Harness Next Generation CCM</h1><p>Harness Next Gen CCM is an <strong>active cloud cost solution</strong> with all the features of first-gen and more. Let’s take a look at the key features of Harness Next Gen CCM - </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="inventory-management">Inventory Management<a class="hash-link" href="#inventory-management" title="Direct link to heading">​</a></h3><p><a href="https://docs.harness.io/article/xbekog2ith-view-aws-ec-2-inventory-cost-dashboard" target="_blank" rel="noopener noreferrer">Harness Inventory Management</a> is achieved through AWS EC2 Inventory Cost Dashboard. It provides granular insights into AWS EC2 instances. It can track various cloud cost indicators across different zones and time ranges. Through visuals, you can understand your cloud cost trends and make decisions based on data and analysis.</p><p>You can adjust sliders and groups on the dashboard to filter data as per requirement. For example, set up a date range and select multiple states from running, stopped, terminated etc. This makes the dashboard dynamic and curate graphs and charts as per your requirement.</p><p><img loading="lazy" alt="inventory_ss.png" src="/assets/images/inventory_ss-bd829d2ca6837925ab24231a4c67a4b1.png" width="3014" height="1808" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="auto-stopping-rules">Auto Stopping Rules<a class="hash-link" href="#auto-stopping-rules" title="Direct link to heading">​</a></h3><p><a href="https://docs.harness.io/category/biypfy9p1i-create-auto-stopping-rules" target="_blank" rel="noopener noreferrer">Cloud AutoStopping</a> solves the problems of idle cloud wastage and automates cost savings. These rules can now be setup for your non-production workloads. Auto Stopping shut down compute resources that are idle for a set duration. So, it automatically detects this idle time and shuts down on-demand resources. </p><p>You can also run non-production workloads on spot instances to save cost up to 90%. These spot instance are dynamically orchestrated for the same infrastructure. As a result, switch between spot instances are without any interruptions. Spot instances are terminated when not in use and are automatically started when there is traffic or usage requests.</p><p><img loading="lazy" alt="auto-ss.png" src="/assets/images/autostopping_ss-0dd03b2d6babbbd6d0b70645993698bd.png" width="1600" height="926" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="perspectives-and-budgets">Perspectives and Budgets<a class="hash-link" href="#perspectives-and-budgets" title="Direct link to heading">​</a></h3><p><a href="https://docs.harness.io/category/e7k0qds7tw-ccm-perspectives" target="_blank" rel="noopener noreferrer">Perspectives</a>** are the best way to view&nbsp;the correlation of cost data across clouds, clusters, and labels. Perspectives organise multiple resources allocated to a team through multiple cloud providers in one place. Suppose a QA team has access to GCP, and Azure for running tests and quality checks. A QA Perspective would bundle up these resources in a single place where they could be analysed, maintained and regulated together. So, instead of managing cloud costs based on providers, perspectives enable tracking at a team level.</p><p><img loading="lazy" alt="ss_perspectives.png" src="/assets/images/ss_perspectives-870747751a43f1c3dd58816a862a23f2.png" width="2002" height="614" class="img_ev3q"></p><p><a href="https://docs.harness.io/category/lpq8glhiyc-ccm-budgets" target="_blank" rel="noopener noreferrer">Budgets</a>** are used to assist perspectives through control checks/limits attached to a team’s allocated cloud resource. Alerts could be sent when the cost exceeds (or is forecasted to exceed) the set budget.</p><p>All budgets created in Harness First Generation CMM will be available automatically in Next Generation CCM.</p><p><img loading="lazy" alt="ss_budgets.png" src="/assets/images/ss_budgets-79fe7ea9d2803db459d4d18ec4870213.png" width="2270" height="908" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="enhanced-business-intelligence-dashboards">Enhanced Business Intelligence Dashboards<a class="hash-link" href="#enhanced-business-intelligence-dashboards" title="Direct link to heading">​</a></h3><p><a href="https://harness.io/blog/harness-dashboards" target="_blank" rel="noopener noreferrer">Harness Dashboards</a> helps in measuring software delivery performance. These BI Dashboards are powered by Looker. You may use a built-in dashboard or create a custom dashboard as per requirement. These dashboards are available for data across all the modules. Harness gives you the ability to create your own dashboard to access the key metrics that drives software delivery outcomes.</p><p>These Dashboards comes with robust reporting ability, you can set alerts based on preset metrics and schedule reports.</p><p>At Harness, we have been working on&nbsp;dashboards that allow you to identify bottlenecks, inform operations, and help drive business decisions. The information and actual metrics may vary based on how engineering teams develop their product.</p><p><img loading="lazy" alt="dashboard ss.jpeg" src="/assets/images/bi-dashboard-ss-6da12fd1e32ab52e5dcc59dae239430d.png" width="3584" height="1802" class="img_ev3q"></p><h1>Conclusion</h1><p>This blog explained how <a href="https://docs.harness.io/article/rr85306lq8-continuous-efficiency-overview" target="_blank" rel="noopener noreferrer">Harness CCM</a> is an active cloud cost solution, and how it’s at sentry duty with rising cloud cost. To know more about your cloud spending and set up your own cloud cost petrol unit, visit <a href="https://harness.io/products/cloud-cost" target="_blank" rel="noopener noreferrer">harness.io</a>.</p><p>In case you are stuck somewhere, need some assistance, or want to talk about cloud cost in general, join #cloud-cost-management channel in <a href="https://join.slack.com/t/harnesscommunity/shared_invite/zt-1jdk336xf-uTvxK5Dg6fElGKTsPv3SUw" target="_blank" rel="noopener noreferrer">Harness Community Slack</a>.</p>]]></content>
        <author>
            <name>Ritik Kapoor</name>
            <uri>https://github.com/rkapoor10</uri>
        </author>
        <category label="cloud-cost-management" term="cloud-cost-management"/>
        <category label="ccm" term="ccm"/>
        <category label="cloud-cost" term="cloud-cost"/>
        <category label="harness" term="harness"/>
        <category label="cme" term="cme"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Python Yaml Onboarding for beginners]]></title>
        <id>python-yaml-onboarding</id>
        <link href="https://harness-community.github.io/blog/python-yaml-onboarding"/>
        <updated>2022-11-09T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[In this blog ,we are going to talk about how easily you can set up your pipeline using YAML.]]></summary>
        <content type="html"><![CDATA[<p>In this blog ,we are going to talk about how easily you can set up your pipeline using YAML.</p><p>Harness includes visual and YAML editors for creating and editing Pipelines, Triggers, Connectors, and other entities. Everything you can do in the visual editor you can also do in YAML.</p><p>For detailed information about using Harness YAML visit <a href="https://docs.harness.io/article/xs2dfgq7s2-yaml-reference-cd-pipeline" target="_blank" rel="noopener noreferrer">Harness YAML Reference</a> and <a href="https://docs.harness.io/article/1eishcolt3-harness-yaml-quickstart" target="_blank" rel="noopener noreferrer">Harness YAML Quickstart</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="before-we-begin">Before we begin<a class="hash-link" href="#before-we-begin" title="Direct link to heading">​</a></h2><p>Make sure you have the following set up before you begin this tutorial:</p><ul><li>GitHub Account: This tutorial clones a codebase from a Github repo. You will need a GitHub account so Harness can connect to GitHub.</li><li>Docker Hub account and repo: You will need to push and pull the image you build to Docker Hub. You can use any repo you want, or create a new one for this tutorial.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="getting-started">Getting Started<a class="hash-link" href="#getting-started" title="Direct link to heading">​</a></h2><ul><li><p>Fork the repository</p><p>For this demo, we are using <a href="https://github.com/harness-community/python-pipeline-samples" target="_blank" rel="noopener noreferrer">Python-pipeline-samples</a>.</p></li><li><p>Login into Harness UI</p><ul><li><p>Go to <a href="https://app.harness.io" target="_blank" rel="noopener noreferrer">Harness</a>.
<img loading="lazy" src="/assets/images/signup-33efae93309c17b42bee0c1e5ef69160.png" width="3582" height="1674" class="img_ev3q"></p></li><li><p>Sign up for the Harness platform.</p></li><li><p>Once you signup you will enter the Harness UI as shown below.
<img loading="lazy" src="/assets/images/signu1-b3c928933588bd39ae58f4857979a776.png" width="3582" height="1674" class="img_ev3q"></p></li><li><p>Go to <code>Builds</code> and select <code>Create a Project</code>.</p><ul><li>Give the name of the Project -&gt; `Save and Continue</li><li>You can also invite collaborators, it's optional.
<img loading="lazy" src="/assets/images/proj-2f81383b1271689f2fadebde963f83fc.png" width="3582" height="1674" class="img_ev3q"></li></ul></li><li><p>After <code>Save and Continue</code> select the module as `Continous Integration.</p><p>After selecting the module as Continous Integration you will see the screen as shown in the below screenshot.
<img loading="lazy" src="/assets/images/builds1-accddc76549877b7f58c27bc8518028b.png" width="3582" height="1674" class="img_ev3q"></p></li><li><p>Select <code>Create a Pipeline</code>.</p><ul><li>Name your <code>Pipeline</code>.</li><li>Choose the setup as <code>Inline</code>.</li><li>Select <code>Start</code>.
Refer to the below screenshot:
<img loading="lazy" src="/assets/images/pi1-ed45200c08672c96f5a7452bcb81faa8.png" width="3582" height="1674" class="img_ev3q"></li></ul></li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="getting-started-1">Getting Started<a class="hash-link" href="#getting-started-1" title="Direct link to heading">​</a></h2><ul><li>After the Creation of the Pipeline, you will enter the pipeline studio as shown below
<img loading="lazy" src="/assets/images/pi2-495de2f7afc4651856289bf5759aaefa.png" width="3582" height="1674" class="img_ev3q"></li><li>As you can see in the pipeline studio we have two options, one is <code>VISUAL</code> and the other is <code>YAML</code>.
Navigate to the YAML editor, as shown below.
<img loading="lazy" src="/assets/images/yaml-e7d3cd0f51751bd4e25eca5bab3a2a7d.png" width="3582" height="1674" class="img_ev3q"></li><li>Copy and Paste the below YAML file into the editor.</li></ul><p>Note:- Paste the below YAML file just below the <code>tags{}</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  properties:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ci:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      codebase:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        connectorRef: &lt;+input&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        build: &lt;+input&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        depth: &lt;+input&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        prCloneStrategy: &lt;+input&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  stages:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - stage:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        name: build test and run</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        identifier: build_test_and_run</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        type: CI</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          cloneCodebase: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          infrastructure:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             type: KubernetesHosted</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">               identifier: k8s-hosted-infra</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          execution:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            steps:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              - step:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  type: Run</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  name: Code compile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  identifier: Code_compile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    connectorRef: &lt;+input&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    image: python:3.10.6-alpine</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    shell: Sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    command: python -m compileall ./</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              - step:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  type: Run</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  name: Create dockerfile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  identifier: Create_dockerfile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    connectorRef: &lt;+input&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    image: alpine</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    shell: Sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    command: |-</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      touch pythondockerfile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      cat &gt; pythondockerfile &lt;&lt;- EOM</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      FROM python:3.10.6-alpine</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      WORKDIR /python-pipeline-sample</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      ADD . /python-pipeline-sample</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      RUN pip install -r requirements.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      CMD ["python3" , "./app.py"]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      EOM</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      cat python-docker file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              - step:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  type: BuildAndPushDockerRegistry</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  name: Build and Push an image to the docker registry</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  identifier: Build_and_Push_an_image_to_docker_registry</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    connectorRef: &lt;+input&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    repo: &lt;+input&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    tags:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      - latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    dockerfile: pythondockerfile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    optimize: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        variables:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          - name: container</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            type: String</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            description: ""</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            value: docker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - stage:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        name: Integration test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        identifier: Integration_test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        type: CI</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          cloneCodebase: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          infrastructure:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            useFromStage: build_test_and_run</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          execution:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            steps:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              - step:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  type: Background</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  name: "python server "</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  identifier: python_server</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    connectorRef: &lt;+input&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    image: &lt;+input&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    shell: Sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    command: python3 ./app.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              - step:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  type: Run</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  name: "test connection to server "</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  identifier: test_connection_to_server</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  spec:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    connectorRef: &lt;+input&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    image: curlimages/curl:7.73.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    shell: Sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    command: |-</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      sleep 10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      curl localhost:5000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><p>Click on <code>Save</code>.</p><p>Navigate to <code>VISUAL</code> and now you can see your two-stage pipeline ready as shown below in the screenshot. That's the beauty of YAML in Harness.</p><p><img loading="lazy" src="/assets/images/pipe-stud-7b712bc4bcd67072d5bf4371f03814df.png" width="3582" height="1674" class="img_ev3q"></p><p>You can navigate through all the steps in the pipeline and explore the pipeline.</p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="inputs">Inputs<a class="hash-link" href="#inputs" title="Direct link to heading">​</a></h2><p>Before running the pipeline, let's create a GitHub and Docker connector.</p><ul><li><p>GitHub Connector</p><p>Under Project setup select <code>Connectors</code>.</p><p>Click on <code>+ New Connector</code></p><p>Select <code>Code Repositories</code> and Choose <code>Github</code>.</p><p>You can refer to the below screenshot.
<img loading="lazy" src="/assets/images/conn-7f6a1064964a92eba8fc39ba3882e929.png" width="3582" height="1674" class="img_ev3q"></p><p>Change the Connector settings as follows:</p><ol><li><p>Overview</p><p>Name: <code>python-sample-connector</code></p><p>Select <code>Continue</code>.</p></li><li><p>Details</p><p>URL Type: <code>Repository</code></p><p>Connection Type: <code>HTTP</code></p><p>GitHub Repository URL: Paste the link of your forked repository</p><p>Select <code>Continue</code>.</p></li><li><p>Credentials</p><p>Username: (Your Github Username)</p><p>Personal Access Token: <a href="https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token" target="_blank" rel="noopener noreferrer">Check out how to create personal access token</a></p><p>Secret Name: <code>Git-Token</code></p><p>Secret Value: PAT value generated in Github</p><p>Select <code>Enable API access (recommended)</code></p><p>Under <code>API Authentication</code>-&gt; <code>Personal Acess Token</code> select the name of the secret created in the previous step.</p><p>Select <code>Continue</code>.</p></li><li><p>Select Connectivity Mode</p><p>Under <code>Connect to the provider</code>-&gt; Select `Connect through Harness Platform.</p><p>Select `Save and Continue.</p></li><li><p>Connection Test</p><p>You will see <code>Verification Successful</code> which means your connector is connected successfully to your codebase.</p><p>For reference, you can also check out this video on our Harness Community youtube channel</p><div class="iframe-wrapper"><iframe src="https://www.youtube.com/embed/0UHBK4vfzcI" frameborder="0" allow="autoplay; encrypted-media"> </iframe></div>To develop more understanding of Connectors [check out the docs here](https://docs.harness.io/category/o1zhrfo8n5-connectors)</li></ol></li><li><p>Create a Docker Connector</p><p>  Under Project setup select <code>Connectors</code>.</p><p>  Click on <code>+ New Connector</code></p><p>  Select <code>Artifacts Repositories</code> and Choose `Docker Registry.</p><p>  You can refer to the screenshot below</p><p>  <img loading="lazy" src="/assets/images/conn1-3e37db5f0bb8b27036de0707ca2872b2.png" width="3582" height="1646" class="img_ev3q"></p><p>  Change the settings as follows</p><ol><li><p>Overview
Name- <code>docker quickstart</code></p></li><li><p>Details</p><ul><li>Docker registry URL - <code>https://index.docker.io/v1/</code></li><li>Provider type - <code>Docker Hub</code></li><li>Authentication - `Username and Password</li><li>Username - Docker hub username</li><li>Secret Token - <a href="https://github.com/harness-community/python-pipeline-samples/blob/main/docs/DockerPat.md" target="_blank" rel="noopener noreferrer">Check out how to create docker PAT</a></li></ul></li><li><p>Select Connectivity Mode</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  Under `Connect to the provider`-&gt; Select `Connect through Harness Platform.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Select `Save and Continue.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>  For your reference you can also check out this video on our Harness Community YouTube channel:</p><div class="iframe-wrapper"><iframe src="https://www.youtube.com/embed/zJ--nKMCdZQ" frameborder="0" allow="autoplay; encrypted-media"> </iframe></div></li></ol></li><li><p>Create a Docker Repository</p><ol><li>Log in to <a href="https://hub.docker.com" target="_blank" rel="noopener noreferrer">Docker Hub</a></li><li>Go to <code>Repositories</code> -&gt; Select <code>Create Repositories</code>.</li><li>Give a name to your repository and you can choose whether you want you repo to be public or repo.</li></ol></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="run-the-pipeline">Run the Pipeline<a class="hash-link" href="#run-the-pipeline" title="Direct link to heading">​</a></h2><p>Navigate back to the <code>Pipeline studio</code> and click on <code>Run</code>.</p><p>On Clicking, you will see a page asking for inputs so as to run the pipeline, you can refer to the below screenshot</p><p><img loading="lazy" src="/assets/images/input-b79a95b8ec9caf444ff60653a13bf809.png" width="1806" height="1682" class="img_ev3q"></p><ol><li><p>CI Codebase</p><ul><li><code>Connector</code>- Select the <code>Github Connector</code> you created in the previous step.</li></ul></li><li><p>Stage: build test and run</p><p>Step: Code compile</p><ul><li><code>Container Registry</code>- Select the <code>Docker Connector</code> you created in the previous step.</li></ul><p>Step: Create dockerfile</p><ul><li><code>Container Registry</code>- Select the <code>Docker Connector</code>.</li></ul><p>Step: Build and Push an image to Docker Registry</p><ul><li><code>Docker Connector</code>- Select the <code>Docker Connector</code>.</li><li><code>Docker Repository</code>- <code>docker-hub-username/repository-name</code></li></ul></li><li><p>Stage: Integration Test</p><p>Execution</p><p>Step: python server</p><ul><li><code>Container registry</code>- Select the <code>Docker Connector</code>.</li><li><code>Image</code>- <code>docker-hub-username/repository-name</code></li></ul><p>Step: test connection to the server</p><ul><li><code>Container registry</code>- Select the <code>Docker Connector</code>.</li></ul></li></ol><p>Click on <code>Run Pipeline</code>.</p><p>It will take around less than 3 mins to execute your Pipeline.</p><p>After successful completion and execution of all the steps you will see something similar to this:</p><p><img loading="lazy" src="/assets/images/run-f938f241c1e3c135e25c06b272ca689a.png" width="3408" height="1410" class="img_ev3q"></p><p>This article explained YAML based onboarding process, if you want to try out Harness UI based onboarding do check out this tutorial:-</p><div class="iframe-wrapper"><iframe src="https://www.youtube.com/embed/r1GLYtOmJmM" frameborder="0" allow="autoplay; encrypted-media"> </iframe></div>]]></content>
        <author>
            <name>Krishika Singh</name>
            <uri>https://github.com/krishi0408</uri>
        </author>
        <category label="continuous-integration" term="continuous-integration"/>
        <category label="yaml" term="yaml"/>
        <category label="python" term="python"/>
        <category label="cme" term="cme"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Provision AWS Infrastructure for Delegates]]></title>
        <id>aws-infra-for-delegates</id>
        <link href="https://harness-community.github.io/blog/aws-infra-for-delegates"/>
        <updated>2022-11-03T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[This tutorial aims at enabling users to set up a Kubernetes cluster on AWS and will serve as the foundation for your CI/CD pipeline infrastructure. After the infrastructure is ready on a free account, you can proceed to create and install a Delegate.]]></summary>
        <content type="html"><![CDATA[<p>This tutorial aims at enabling users to set up a Kubernetes cluster on AWS and will serve as the foundation for your CI/CD pipeline infrastructure. After the infrastructure is ready on a free account, you can proceed to create and install a Delegate. </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="credits-for-aws">Credits for AWS<a class="hash-link" href="#credits-for-aws" title="Direct link to heading">​</a></h3><p>To avail free credits in AWS please follow the following resources:</p><ul><li><a href="https://www.lastweekinaws.com/blog/how-to-get-free-aws-credits-4-tactics-to-use/" target="_blank" rel="noopener noreferrer">AWS Credits: How To Obtain Free Credits for Your Startup?</a></li><li><a href="https://www.argonaut.dev/blog/aws-free-credits" target="_blank" rel="noopener noreferrer">How to Get Free AWS Credits: 4 Tactics to Use</a></li></ul><p>If you are a student please sign in using <a href="https://aws.amazon.com/education/awseducate/" target="_blank" rel="noopener noreferrer">AWS Educate</a></p><blockquote><p><strong>Note:</strong>
Under the AWS Free tier the EKS service is not available, so it’s suggested to get some free credits and use them for EKS. </p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pre-requisites">Pre-requisites:<a class="hash-link" href="#pre-requisites" title="Direct link to heading">​</a></h3><p>There are certain requirements in terms of <a href="https://docs.harness.io/article/2132l9r4gt#permissions" target="_blank" rel="noopener noreferrer">access and permissions</a> and <a href="https://docs.harness.io/article/2132l9r4gt#compute_resources" target="_blank" rel="noopener noreferrer">memory resources</a> for the delegate to function properly. </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="creating-a-cluster">Creating a Cluster:<a class="hash-link" href="#creating-a-cluster" title="Direct link to heading">​</a></h3><p>Considering you are a first-time user, please consider the following specifications along with the above prerequisites, while creating a cluster:</p><ul><li><strong>Number of nodes:</strong> minimum of 3.</li><li><strong>Machine type:</strong> 4vCPU</li><li><strong>Memory:</strong> 12GB RAM and 6GB Disk Space. 8GB RAM is for the Delegate. The remaining memory is for Kubernetes and containers.</li><li><strong>Networking:</strong> Outbound HTTPS for the Harness connection, and to connect to any container image repo. Allow TCP port 22 for SSH.</li></ul><p>For creating a cluster follow the steps mentioned in the <a href="https://docs.aws.amazon.com/eks/latest/userguide/create-cluster.html" target="_blank" rel="noopener noreferrer">documentation</a>, also you can take the help of the demo in the video below. </p><div class="iframe-wrapper"><iframe src="https://www.youtube.com/embed/p6xDCz00TxU" frameborder="0" allow="autoplay; encrypted-media"></iframe></div><p>You will be able to see your cluster, after creation on the management console, like the picture below. </p><p><img loading="lazy" alt="AWS Dashboard" src="/assets/images/aws-dashboard-85e6bf2bec6556645fc43b4e93e9b171.png" width="2806" height="1478" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="authenticate-to-the-cluster">Authenticate to the cluster:<a class="hash-link" href="#authenticate-to-the-cluster" title="Direct link to heading">​</a></h3><ol><li>Open a terminal and navigate to where the Delegate file is located.</li><li>You will connect to your cluster using the terminal so you can simply run the YAML file on the cluster.</li></ol><p><img loading="lazy" alt="AWS Access" src="/assets/images/aws-access-2cf298ed719447220060d13b21c2ab4b.png" width="1110" height="148" class="img_ev3q"></p><ol start="3"><li>In the same terminal, log into your Kubernetes cluster. In most platforms, you select the cluster, click Connect, and copy the access command.</li></ol><p><img loading="lazy" alt="AWS Configure" src="/assets/images/aws-configure-5b8d84086d08ab09075bdbad542b5c5e.png" width="2262" height="478" class="img_ev3q"></p><ol start="4"><li><p>Next, install the Harness Delegate using the harness-delegate.yaml file you just downloaded. In the terminal connected to your cluster, run this command:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f harness-delegate.yml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>The successful output would look like this</p></li></ol><p><img loading="lazy" alt="delegate-install" src="/assets/images/delegate-install-6e376d6fc533b9dac19ab87c23e224e8.png" width="1998" height="428" class="img_ev3q"></p><ol start="6"><li><p>To validate run the following command and check.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># kubectl get namespaces</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NAME                  STATUS   AGE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">default               Active   29h</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">harness-delegate-ng   Active   24m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kube-node-lease       Active   29h</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kube-public           Active   29h</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kube-system           Active   29h</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ol><p>Also, you could check for pods under your AWS cluster to find the delegate</p><p><img loading="lazy" alt="delegate pods" src="/assets/images/delegate-pods-a6a3fb2e7de1a06c82ebf0c34feaddd7.png" width="2664" height="1624" class="img_ev3q"></p><ol start="7"><li>Now that your cluster is operational, you may add resources to it by using the kubectl utility, as you can see. Please use <a href="https://www.harness.io/technical-blog/deploy-in-5-minutes-with-a-delegate-first-approach" target="_blank" rel="noopener noreferrer">Start Deploying in 5 Minutes with a Delegate-first Approach</a> tutorial to install Delegate at this time and move forward with creating your CI/CD pipeline.</li></ol><blockquote><p><strong>Warning:</strong>
You have to exit the present pipeline without saving to view delegate details/continue with further steps.</p></blockquote><ol start="8"><li>You could check about your delegates on the dashboard under Project Setup.</li></ol><p><img loading="lazy" alt="check-delegate" src="/assets/images/check-delegate-b5efa205c30f8b8d2d8f661224d59964.png" width="1450" height="1838" class="img_ev3q"></p><ol start="9"><li>The delegate details would look something similar to this</li></ol><p><img loading="lazy" alt="delegate-available" src="/assets/images/delegate-available-55626c2048a521fd8ee0c663b82d0b28.png" width="2822" height="314" class="img_ev3q"></p><blockquote><p><strong>Note:</strong>
Apart from the above mentioned way, there are other ways to install delegate on AWS, for eg using EC2. </p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="need-further-help">Need further help?<a class="hash-link" href="#need-further-help" title="Direct link to heading">​</a></h3><p>Feel free to ask questions at <a href="https://community.harness.io/c/harness/7" target="_blank" rel="noopener noreferrer">community.harness.io</a> or  <a href="https://join.slack.com/t/harnesscommunity/shared_invite/zt-y4hdqh7p-RVuEQyIl5Hcx4Ck8VCvzBw" target="_blank" rel="noopener noreferrer">join community slack</a> to chat with our engineers in product-specific channels like:</p><p><a href="https://join.slack.com/share/enQtMzkwNjIzMDIxMDEwMy1mYjM2M2FlY2Y3ZWM5ZTRiMGM0MzI1ZTA2YzIxNDYzYjFiODVjZjZlZmE5ZTRmZmZlZjEzYWY1YzU4ODdmNmVj" target="_blank" rel="noopener noreferrer">#continuous-delivery</a>  Get support regarding the CD Module of Harness.
<a href="https://join.slack.com/share/enQtMzkyMzI1ODcxNzAxMi05MTI2M2VlNmVhZDY4NTlkM2JiODgxNWQ5NzY4NGU4MjE0MDQ1MDhlZTM0ZjA1ZjAyNjc3N2E4YmY2ZTc2YWY0" target="_blank" rel="noopener noreferrer">#continuous-integration</a> Get support regarding the CI Module of Harness.</p>]]></content>
        <author>
            <name>Debabrata Panigrahi</name>
            <uri>https://github.com/Debanitrkl</uri>
        </author>
        <category label="continuous-integration" term="continuous-integration"/>
        <category label="continuous-delivery" term="continuous-delivery"/>
        <category label="delegates" term="delegates"/>
        <category label="harness" term="harness"/>
        <category label="cme" term="cme"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Configure Run Step in Harness CI]]></title>
        <id>configure-run-step</id>
        <link href="https://harness-community.github.io/blog/configure-run-step"/>
        <updated>2022-10-20T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Introduction]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a class="hash-link" href="#introduction" title="Direct link to heading">​</a></h2><p>This beginner guide aims to help learners learn the configuration management for run steps settings in Harness CI. We will learn about different settings and permissions for the Harness CI Run Tests step which executes one or more tests on a container image.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="before-we-begin">Before We Begin<a class="hash-link" href="#before-we-begin" title="Direct link to heading">​</a></h3><p>Are you confused with terminologies like Container Resources, Image Pull Policy etc while creating &amp; configuring a run step for your CI pipeline? In this article we will discuss a few such terminologies on the Harness CI platform and how you can configure them to set up your run step in the pipeline settings according to your requirements.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-parameters-in-a-run-step">Configuration Parameters in a Run Step<a class="hash-link" href="#configuration-parameters-in-a-run-step" title="Direct link to heading">​</a></h3><ul><li>Name</li><li>ID</li><li>Description</li><li>Container Registry</li><li>Image</li><li>Namespaces</li><li>Build Tool</li><li>Language</li><li>Packages</li><li>Run Only Selected Tests</li><li>Test Annotations</li><li>Pre-Command &amp; Post-Command</li><li>Report Paths &amp; Environment Variables</li><li>Output variables</li><li>Image Pull Policy</li><li>Container Resources</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="name">Name<a class="hash-link" href="#name" title="Direct link to heading">​</a></h3><p>The unique name for the run step. Each run step must have a unique name &amp; it is recommended to use a name which describes the step.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="id">ID<a class="hash-link" href="#id" title="Direct link to heading">​</a></h3><p>Most of the Harness entities and resources include a unique Id also referred as entity Identifier that's not modifiable once the entity is created. It provides a constant way to refer to an entity and avoid issues that can arise when a name is changed.</p><p>Initially Harness automatically generates an identifier for an entity which can be modified when you are creating the entity but not after the entity is saved.</p><p>Even if you rename the entity the Identifier remains the same. The automatically generated Identifier is based on the entity name and follows the identifier naming conventions.
If an entity name cannot be used because it's already occupied by another entity Harness automatically adds a prefix in the form of <code>-1</code>, <code>-2</code>, etc.</p><p><strong><a href="https://ngdocs.harness.io/article/li0my8tcz3-entity-identifier-reference" target="_blank" rel="noopener noreferrer">Check out the documentation to know more about Entity Identifier Reference</a></strong></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="description">Description<a class="hash-link" href="#description" title="Direct link to heading">​</a></h3><p>This is generally a text string describing the run step and it’s working.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="container-registry">Container Registry<a class="hash-link" href="#container-registry" title="Direct link to heading">​</a></h3><p>Container Registry refers to the Harness Connector for a container registry. This is the container registry for the image Harness will use run build commands on such as DockerHub.</p><p><strong><a href="https://docs.harness.io/article/my8n93rxnw-connect-to-harness-container-image-registry-using-docker-connector" target="_blank" rel="noopener noreferrer">Check out the documentation to know more about Harness Container Image Registry</a></strong></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="image">Image<a class="hash-link" href="#image" title="Direct link to heading">​</a></h3><p>Image is the name of the Docker image to use when running commands.For example: <code>alpine-node</code>
This image name should include the tag and will by default refer to the latest tag if not specified. You can use any docker image from any docker registry including docker images from private registries.</p><p><strong>Different container registries has different name formats:</strong></p><ul><li>Docker Registry: enter the name of the artifact you want to deploy, such as <code>library/tomcat</code>. Wildcards are not supported.</li><li>GCR: enter the name of the artifact you want to deploy. Images in repos need to reference a path starting with the project ID that the artifact is in, for example: <code>us.gcr.io/playground-243019/quickstart-image:latest</code>.</li><li>ECR: enter the name of the artifact you want to deploy. Images in repos need to reference a path, for example: <code>40000005317.dkr.ecr.us-east-1.amazonaws.com/todolist:0.2</code>.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="namespaces-c">Namespaces (C#)<a class="hash-link" href="#namespaces-c" title="Direct link to heading">​</a></h3><p>A comma-separated list of the Namespace prefixes that you want to test.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="build-tool">Build Tool<a class="hash-link" href="#build-tool" title="Direct link to heading">​</a></h3><p>This is where you select the build automation tool &amp; the source code language to build, such as Java or C#.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="packages">Packages<a class="hash-link" href="#packages" title="Direct link to heading">​</a></h3><p>This are the list of source code package prefixes separated by a comma. For example: <code>com.company.</code>, <code>io.company.migrations</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="run-only-selected-tests">Run Only Selected Tests<a class="hash-link" href="#run-only-selected-tests" title="Direct link to heading">​</a></h3><p>If this option is unchecked, Test Intelligence is disabled and all tests will run.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="test-annotations">Test Annotations<a class="hash-link" href="#test-annotations" title="Direct link to heading">​</a></h3><p>This is where you enter the list of test annotations used in unit testing separated by commas.
Any method annotated with this will be treated as a test method. The defaults are: <code>org.junit.Test</code>, <code>org.junit.jupiter.api.Test</code>, <code>org.testng.annotations.Test</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pre-command--post-command">Pre-Command &amp; Post-Command<a class="hash-link" href="#pre-command--post-command" title="Direct link to heading">​</a></h3><p>In pre-command you enter the commands for setting up the environment before running the tests. For example, printenv prints all or part of the environment.</p><p>In post-command you enter the commands used for cleaning up the environment after running the tests. For example, sleep <code>600</code> suspends the process for 600 seconds.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="report-paths">Report Paths<a class="hash-link" href="#report-paths" title="Direct link to heading">​</a></h3><p>This refers to the path to the file(s) that store results in the JUnit XML format. You can enter multiple paths. Glob is supported.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="environment-variables--output-variables">Environment Variables &amp; Output Variables<a class="hash-link" href="#environment-variables--output-variables" title="Direct link to heading">​</a></h3><p>Environment variables refers to the variables passed to the container as environment variables and used in the Commands.</p><p>Output variables expose Environment Variables for use by other steps/stages of the Pipeline. You can reference the output variable of a step using the step ID and the name of the variable in Output Variables.</p><p><img loading="lazy" alt="output-var" src="data:image/png;base64,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" width="564" height="139" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="image-pull-policy">Image Pull Policy<a class="hash-link" href="#image-pull-policy" title="Direct link to heading">​</a></h3><p>This is where you make the choice to set the pull policy for the image.</p><ul><li><p><strong>Always:</strong> The kubelet queries the container image registry to resolve the name to an image digest every time the kubelet launches a container. If the kubelet encounters an exact digest cached locally, it uses its cached image; otherwise, the kubelet downloads (pulls) the image with the resolved digest, and uses that image to launch the container.</p></li><li><p><strong>If Not Present:</strong> The image is pulled only if it isn't already present locally.</p></li><li><p><strong>Never:</strong> The kubelet assumes that the image exists locally and doesn't try to pull the image.</p></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="container-resources">Container Resources<a class="hash-link" href="#container-resources" title="Direct link to heading">​</a></h3><p>The container resources configuration specifies the maximum resources used by the container at runtime.</p><p><strong>Limit Memory</strong>
Maximum memory that the container can use. You can express memory as a plain integer or as a fixed-point number using the suffixes G or M. You can also use the power-of-two equivalents Gi and Mi.</p><p><strong>Limit CPU</strong>
The maximum number of cores that the container can use. CPU limits are measured in cpu units. Fractional requests are allowed: you can specify one hundred millicpu as 0.1 or 100m. </p><p><strong><a href="https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/#resource-units-in-kubernetes" target="_blank" rel="noopener noreferrer">See Resource units in Kubernetes</a></strong></p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>This is not applicable in case you have opted for Hosted by Harness in your Infrastructure settings of the step.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="timeout">Timeout<a class="hash-link" href="#timeout" title="Direct link to heading">​</a></h3><p>This specifies the timeframe until which the step shall execute. Once the timeout is reached the step fails and the Pipeline execution continues.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="not-able-to-troubleshoot-the-encountered-error">NOT ABLE TO TROUBLESHOOT THE ENCOUNTERED ERROR<a class="hash-link" href="#not-able-to-troubleshoot-the-encountered-error" title="Direct link to heading">​</a></h3><p>In case the user is unable to troubleshoot the application error or pipeline execution failures the user can log/submit a ticket to Harness Support. To log a ticket follow the process:</p><ol><li>Click the <strong>Help</strong> button in the Harness Manager</li><li>Click <strong>Submit a Ticket</strong> or <strong>Send Screenshot</strong></li><li>Fill out the pop up form and click <strong>Submit Ticket</strong> or <strong>Send Feedback</strong></li></ol>]]></content>
        <author>
            <name>Dhrubajyoti Chakraborty</name>
            <uri>https://github.com/codewdhruv</uri>
        </author>
        <category label="continuous-integration" term="continuous-integration"/>
        <category label="harness-ci" term="harness-ci"/>
        <category label="troubleshooting-guide" term="troubleshooting-guide"/>
        <category label="cme" term="cme"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Provision Azure Infrastructure for Delegates]]></title>
        <id>azure-infra-for-delegates</id>
        <link href="https://harness-community.github.io/blog/azure-infra-for-delegates"/>
        <updated>2022-10-13T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Creating a delegate requires the creation of an infrastructure in which computational tasks can take place. The infrastructure is typically a Kubernetes cluster.]]></summary>
        <content type="html"><![CDATA[<p>Creating a delegate requires the creation of an infrastructure in which computational tasks can take place. The infrastructure is typically a Kubernetes cluster.</p><p>This tutorial shows you how to set up a Kubernetes cluster on Azure and will serve as the foundation for your CI/CD pipeline infrastructure. After the infrastructure is ready on a free account, you can proceed to create and install a Delegate.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="student-account">Student Account<a class="hash-link" href="#student-account" title="Direct link to heading">​</a></h2><p>If you’re a student, you’re in luck as there is <a href="https://azure.microsoft.com/en-us/free/students/" target="_blank" rel="noopener noreferrer">Azure for Students</a> where you can sign in with your educational email address to create an account without a credit card to get $100 worth of credits.</p><p>These credits can be used to deploy the Kubernetes Cluster and other services if required. </p><p>To, get started with the account creation go to Azure for Students.</p><p>Step 1: Click on Activate Now</p><p><img loading="lazy" alt="Activate Free Account" src="/assets/images/activate-free-account-f6a86b040ac07a1897011cc7435239c7.png" width="1902" height="582" class="img_ev3q"></p><p>Step 2: After signing in with a Microsoft account, enter your educational email address:</p><p><img loading="lazy" alt="Activate Azure for Students" src="/assets/images/activate-azure-for-students-764034ecb13afdf587591927ae721008.png" width="1908" height="851" class="img_ev3q"></p><p>Step 3: Sign in to Azure Portal!</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="a-free-azure-account">A free Azure Account<a class="hash-link" href="#a-free-azure-account" title="Direct link to heading">​</a></h2><p>For anyone who can verify their identity with a phone number and a credit card, Azure offers a free account with $200 in Azure credit. Once your account has been verified, you can create a Kubernetes cluster in it.</p><p>Step 1: Go to the <a href="https://azure.microsoft.com/en-in/free/" target="_blank" rel="noopener noreferrer">Azure Free Account Page</a></p><p>Step 2: Click on Start free to start the account creation procedure </p><p><img loading="lazy" alt="Azure Free Account" src="/assets/images/azure_free_account_cc-9625c1ac42c6babde9905719f828d0ce.png" width="2048" height="1517" class="img_ev3q"></p><p>Step 3: Fill in the following fields</p><p><img loading="lazy" alt="Fill Details" src="/assets/images/fill_cc_details-b4c55d27510b710b55f152f4621c231d.png" width="2048" height="1052" class="img_ev3q"></p><p>Step 4: Once your details are in click on Sign Up after you have accepted the terms and conditions. </p><p><img loading="lazy" alt="Sign Up Credit Card" src="/assets/images/sign_up_cc-edf018874e140abdf8169ec13dd33e42.png" width="2048" height="1052" class="img_ev3q"></p><p>Step 5: Verify your phone number</p><p>Step 6: Put in your CC details and depending upon your Region a small amount will be deducted and refunded for verification. </p><p>Step 7: You can access your account using the <a href="https://portal.azure.com/" target="_blank" rel="noopener noreferrer">Azure Portal</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="azure-portal">Azure Portal<a class="hash-link" href="#azure-portal" title="Direct link to heading">​</a></h2><p>Azure portal is the web-based management console for Microsoft Azure. It provides a single, unified view of all your Azure resources, including compute, storage, networking, and security. You can use the Azure portal to deploy and manage your Azure resources and to monitor their health and usage. </p><p><img loading="lazy" alt="Azure Portal" src="/assets/images/azure_portal-3df20350e141954e875b9a8cdc7146ee.png" width="2048" height="1117" class="img_ev3q"></p><p>You will use the portal to create your Kubernetes Cluster and connect to it.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-cluster">Create a Cluster<a class="hash-link" href="#create-a-cluster" title="Direct link to heading">​</a></h2><p>The steps to create a cluster will be to use the Azure Kubernetes Service which is the managed Kubernetes offering from Azure. The steps are as follows:</p><p>Step 1: Click on Create a Resource after signing in</p><p><img loading="lazy" alt="Create a Resource" src="/assets/images/create_a_resource-1567b5c3d571b7293e1179d4542d8d89.png" width="894" height="472" class="img_ev3q"></p><p>Step 2: Search Container and then click on <code>Kubernetes Service</code></p><p><img loading="lazy" alt="Find Kubernetes Service" src="/assets/images/create_k8s_service-f5b1c91671d7faf9266cadd842486118.png" width="1524" height="1066" class="img_ev3q"></p><p>Step 3: Click on Create</p><p><img loading="lazy" alt="Create Kubernetes Service" src="/assets/images/creation_k8s_service-17f6fcd1478997c4e3eb828495297e6e.png" width="2048" height="1001" class="img_ev3q"></p><p>Step 4: On the Basics page, configure the following options for a Delegate to Run:</p><ul><li>Project details:<ul><li>Select an Azure Subscription.</li><li>Select or create an Azure Resource group, such as DelegateGroup.</li></ul></li><li>Cluster details:<ul><li>Enter a Kubernetes cluster name, such as myEnviroment.</li><li>Select a Region for the AKS cluster</li><li>Select 99.5% for API server availability for lower cost</li></ul></li><li>Go to Scale Method and change it to Manual as your account might not have sufficient compute quota for autoscaling. Next change the Node Count to 2
<img loading="lazy" src="https://user-images.githubusercontent.com/67012359/199068562-b0f39b58-9723-4cd7-84d6-33ee534ede20.png" alt="image" class="img_ev3q"></li></ul><p>Step 5: Start the resource validation by clicking Review + Create on your portal. Once validated, click Create to begin the process of cluster creation. Wait a few minutes for the cluster to deploy.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="connect-to-your-cluster">Connect to your cluster<a class="hash-link" href="#connect-to-your-cluster" title="Direct link to heading">​</a></h2><p>Now, when your cluster is ready you can connect to the Azure Cloud Shel on your portal and open the terminal</p><p><img loading="lazy" alt="Cloud Shell" src="/assets/images/cloud_shell-e1371438ad45d5f757d47fe50e8064c2.png" width="1472" height="740" class="img_ev3q"></p><p>Navigate to your cluster and click on Connect!</p><p><img loading="lazy" alt="Connect to Cluster" src="/assets/images/connect_to_aks-00d9cbcfa633c8e07b8a151905763763.png" width="1734" height="626" class="img_ev3q"></p><p>Follow the steps displayed on the right panel and then you can connect to your cluster! </p><p>Run <code>kubectl cluster-info</code> to display details on your cluster!</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="next-steps">Next Steps<a class="hash-link" href="#next-steps" title="Direct link to heading">​</a></h2><p>Now that your cluster is operational, you may add resources to it by using the kubectl utility, as you can see. Please use <a href="https://www.harness.io/technical-blog/deploy-in-5-minutes-with-a-delegate-first-approach" target="_blank" rel="noopener noreferrer">Start Deploying in 5 Minutes with a Delegate-first Approach</a> tutorial to install Delegate at this time and move forward with creating your CI/CD pipeline.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="need-further-help">Need further help?<a class="hash-link" href="#need-further-help" title="Direct link to heading">​</a></h2><p>Feel free to ask questions at <a href="https://community.harness.io/c/harness/7" target="_blank" rel="noopener noreferrer">community.harness.io</a> or <a href="https://join.slack.com/t/harnesscommunity/shared_invite/zt-y4hdqh7p-RVuEQyIl5Hcx4Ck8VCvzBw" target="_blank" rel="noopener noreferrer"> join community slack</a> to chat with our engineers in product-specific channels like:</p><ul><li><a href="https://join.slack.com/t/harnesscommunity/shared_invite/zt-y4hdqh7p-RVuEQyIl5Hcx4Ck8VCvzBw" target="_blank" rel="noopener noreferrer">#continuous-delivery</a>  Ask questions/help other users regarding CD Module of Harness.</li><li><a href="https://join.slack.com/t/harnesscommunity/shared_invite/zt-y4hdqh7p-RVuEQyIl5Hcx4Ck8VCvzBw" target="_blank" rel="noopener noreferrer">#continuous-integration</a> Ask questions/help other users regarding CI Module of Harness.</li></ul>]]></content>
        <author>
            <name>Hrittik Roy</name>
            <uri>https://github.com/hrittikhere</uri>
        </author>
        <category label="delegates" term="delegates"/>
        <category label="continuous-integration" term="continuous-integration"/>
        <category label="continuous-delivery" term="continuous-delivery"/>
        <category label="connectors" term="connectors"/>
        <category label="harness" term="harness"/>
        <category label="cme" term="cme"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Troubleshooting Guide: Harness CI]]></title>
        <id>troubleshooting-harness-ci</id>
        <link href="https://harness-community.github.io/blog/troubleshooting-harness-ci"/>
        <updated>2022-10-11T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Introduction]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a class="hash-link" href="#introduction" title="Direct link to heading">​</a></h2><p>This is a guide to get started with the common use cases for the end users to implement pipeline executions successfully in Harness CI</p><p>Harness provides various sources &amp; tools to easily troubleshoot frequently encountered errors to fix pipeline failures. This guide lists some of the common issues faced while implementing and designing pipelines in Harness CI and the possible solutions.</p><p><strong>What’ll we be covering here?</strong></p><ul><li>Syntax Verification</li><li>Variable Verification</li><li>Troubleshooting Delegate Installation Errors</li><li>Troubleshooting Triggers Errors</li><li>Troubleshooting Git Experience Errors</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="verify-syntax">Verify Syntax<a class="hash-link" href="#verify-syntax" title="Direct link to heading">​</a></h3><p>An early-stage error use case is generally incorrect syntax. In such cases, the pipeline returns an invalid YAML syntax message and does not start running in case any syntax error is detected.</p><p>Edit <code>pipeline.yaml</code> in the pipeline studio</p><p>The pipeline editor in the YAML view is recommended for editing experience (rather than the graphical stage view). Major features in the editor include:</p><ul><li>Creation of connectors, secrets &amp; pipelines from scratch</li><li>Realtime schema validation</li><li>Intellisense &amp; auto-completion</li><li>Field descriptions &amp; rich inline documentation</li><li>Free Templates for YAML Samples </li></ul><p>This feature helps the developer to validate the existing pipeline’s correctness and helps in quick modification alongside copying of a pipeline as a code.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="verify-variables">Verify Variables<a class="hash-link" href="#verify-variables" title="Direct link to heading">​</a></h3><p>A very integral part of troubleshooting errors in Harness CI is to verify the variables present in the pipeline and their values. Major configuration in the pipeline depends on the variables and verifying them becomes the easiest way to reach the root cause and potential solution of the problem.</p><p>Visit the variables section on the Harness CI platform. Check if the expected variables and their values match and are implemented at the expected stage for the pipeline.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="delegate-setup-failure">Delegate Setup Failure<a class="hash-link" href="#delegate-setup-failure" title="Direct link to heading">​</a></h3><p>The majority of the encountered errors in Harness CI revolve around delegate setup processes. Make sure you have a complete understanding of how to set up a harness delegate from scratch &amp; understand how the Harness manager and delegate complement each other.</p><p>Delegate setup also fails if the SSH key used for deployment to the targeted host is incorrect. This usually happens due to incorrect information about the SSH configuration in the Harness Secrets Management and also if the targeted host is not configured to support SSH connections.</p><p>For troubleshooting move to the <code>watcher.log</code> file that provides information about the deleted version.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="delegate-fails-to-establish-a-connection-with-the-harness-manager">Delegate fails to establish a connection with the Harness Manager<a class="hash-link" href="#delegate-fails-to-establish-a-connection-with-the-harness-manager" title="Direct link to heading">​</a></h3><p>In case of connection failures for the delegate with the Harness Manager, we can use ping on the delegate host to test the response time for app.harness.io and other URLs are consistent or not. We can use the traceroute to check the network route and verify if there is any case of redirection. To verify if the DNS resolution is working fine we can implement nslookup.
We can flush the client's DNS cache (Check for the OS). We can run tests to check for local network errors or NAT license limits. In the case of cloud service providers, we’ll have to ensure that the security groups have outbound traffic allowed on HTTP 443.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="no-eligible-delegate-found-for-the-assigned-pipeline-execution">No eligible delegate found for the assigned pipeline execution<a class="hash-link" href="#no-eligible-delegate-found-for-the-assigned-pipeline-execution" title="Direct link to heading">​</a></h3><p>This error is encountered when the delegate fails to achieve the URL criteria for validation. All delegates in harness are identified by their Harness account ID with some additional factors. For example, in VMs the delegates are identified with the combination of their hostname and IP address thus in case the IP changes the Harness Manager fails to identify the delegate. In the case of K8s and ECS delegates, the IP changes when the pod is rescheduled.</p><p>The delegate sends the heartbeat, deployment data &amp; Time series, and log data for continuous verification to the Harness Manager. The credentials used by the Delegate must have the roles and permissions required to perform the task. For example, if the account used for an AWS Cloud Provider does not have the roles required for ECS deployments then it will fail.</p><p>For more information visit <a href="https://docs.harness.io/article/migeq3achl-harness-delegate-faqs#how_does_harness_manager_identify_delegates" target="_blank" rel="noopener noreferrer">How does Harness Manager Identify Delegates?</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="k8s-delegate-deletion-failure">K8s Delegate Deletion Failure<a class="hash-link" href="#k8s-delegate-deletion-failure" title="Direct link to heading">​</a></h3><p>To delete the Harness Delegate from the K8s cluster we’ll have to delete the StateFulSet for the delegate. This ensures that the expected number of pods is running and available. Deletion of the delegate without deletion of the StateFulSet results in a recreation of the pod. </p><p>For example, if the delegate name is <code>delegate-sample</code> then we can delete StateFulSet with the command below</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ kubectl delete statefulset -n harness-delegate delegate-sample</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="triggers-rejection-failures">Triggers Rejection Failures<a class="hash-link" href="#triggers-rejection-failures" title="Direct link to heading">​</a></h3><p>This usually happens when the user uses a webhook trigger to execute a pipeline or workflow and the name of the artifact in the cURL command is different from the name of the artifact.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Trigger Rejected. Reason: Artifacts Are Missing </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> Service Name</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">S</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This is majorly a result of a bad name for an artifact build version when placed in the cURL command. For example a cURL with build number <strong>v1.0.4-RC8:</strong></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> -X POST -H </span><span class="token string" style="color:#e3116c">'content-type: application/json'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--url https://app.harness.io/gateway/api/webhooks/</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">. </span><span class="token builtin class-name">.</span><span class="token plain"> </span><span class="token builtin class-name">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-d </span><span class="token string" style="color:#e3116c">'{"application":"tavXGH . . z7POg","artifacts":[</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">{"service":"app","buildNumber":"v1.0.4-RC8"}]}'</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In case the Harness Service artifacts have a different nomenclature the cURL command will fail to execute. Thus ensuring the webhook cURL command has the correct artifact name becomes very important. </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="failure-when-executed-git-push-in-harness">Failure when executed Git Push in Harness<a class="hash-link" href="#failure-when-executed-git-push-in-harness" title="Direct link to heading">​</a></h3><p>In case of two-way sync between the Git repository and the Harness Application, the push to Harness will result in failure unless the GIT YAML files and the required settings are configured before pushing the app to Harness.</p><p>For example, in case we have a predefined infrastructure definition and the required labels or parameters are not filled or filled in incorrectly the push to git is more likely to encounter a failure.</p><p>Using the Harness Manager to configure the app at first is the best way to encounter this error. This generally ensures that all the required settings are configured correctly and synced with the git repository. </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="triggers-zsh-no-matches-found">Triggers: zsh: no matches found<a class="hash-link" href="#triggers-zsh-no-matches-found" title="Direct link to heading">​</a></h3><p>In some of the OS versions specifically in MACOS, the default shell is zsh. The zsh shell requires the cURL command to not use the “?” character or put quotes around the URL.</p><p>For example;</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> -X POST -H </span><span class="token string" style="color:#e3116c">'content-type: application/json'</span><span class="token plain"> --url https://app.harness.io/gateway/api/webhooks/xxx?accountId</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">xxx -d </span><span class="token string" style="color:#e3116c">'{"application":"fCLnFhwsTryU-HEdKDVZ1g","parameters":{"Environment":"K8sv2","test":"foo"}}'</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This shall work</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> -X POST -H </span><span class="token string" style="color:#e3116c">'content-type: application/json'</span><span class="token plain"> --url </span><span class="token string" style="color:#e3116c">"https://app.harness.io/gateway/api/webhooks/xxx?accountId=xxx -d '{"</span><span class="token plain">application</span><span class="token string" style="color:#e3116c">":"</span><span class="token plain">fCLnFhwsTryU-HEdKDVZ1g</span><span class="token string" style="color:#e3116c">","</span><span class="token plain">parameters</span><span class="token string" style="color:#e3116c">":{"</span><span class="token plain">Environment</span><span class="token string" style="color:#e3116c">":"</span><span class="token plain">K8sv2</span><span class="token string" style="color:#e3116c">","</span><span class="token builtin class-name">test</span><span class="token string" style="color:#e3116c">":"</span><span class="token plain">foo</span><span class="token string" style="color:#e3116c">"}}'"</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="user-does-not-have-deployment-execute-permission">User does not have "Deployment: execute" permission<a class="hash-link" href="#user-does-not-have-deployment-execute-permission" title="Direct link to heading">​</a></h3><p>The error User does not have <code>"Deployment: execute"</code> permission reflects back to the user’s <strong>Application Permission &gt; Settings</strong> does not involve <code>execute</code>. This can be solved by resolving the application permission configuration. The user can easily modify the Harness Configure as Code YAML files for the harness application. </p><p>To enable editing of the YAML file make sure the user’s Harness User Groups must have the account permission <code>Manage Applications</code> enabled. Also the Application Permissions <code>Update</code> enabled for specific applications</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="not-able-to-troubleshoot-the-encountered-error">NOT ABLE TO TROUBLESHOOT THE ENCOUNTERED ERROR<a class="hash-link" href="#not-able-to-troubleshoot-the-encountered-error" title="Direct link to heading">​</a></h3><p>In case the user is unable to troubleshoot the application error or pipeline execution failures the user can log/submit a ticket to Harness Support. To log a ticket follow the process:</p><ol><li>Click the <strong>Help</strong> button in the Harness Manager</li><li>Click <strong>Submit a Ticket</strong> or <strong>Send Screenshot</strong></li><li>Fill out the pop up form and click <strong>Submit Ticket</strong> or <strong>Send Feedback</strong></li></ol>]]></content>
        <author>
            <name>Dhrubajyoti Chakraborty</name>
            <uri>https://github.com/codewdhruv</uri>
        </author>
        <category label="continuous-integration" term="continuous-integration"/>
        <category label="harness-ci" term="harness-ci"/>
        <category label="troubleshooting-guide" term="troubleshooting-guide"/>
        <category label="cme" term="cme"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Installing Harness Kubernetes(K8s) delegate via MiniKube]]></title>
        <id>delegate-minikube-install</id>
        <link href="https://harness-community.github.io/blog/delegate-minikube-install"/>
        <updated>2022-10-09T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Before we begin :]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="before-we-begin-">Before we begin :<a class="hash-link" href="#before-we-begin-" title="Direct link to heading">​</a></h2><p>Let us understand what do we mean by delegates and why is it needed </p><p>A Harness delegate is a software that you install in your deployment target environment such as local network ,VPC,or cluster and run as a service.The delegate performs all operations including deployment and integration.
The delegate connects all your artifacts,infrastructure,collaboration,verification and other providers with the Harness Manager.</p><p>Below we have discussed the detailed explanation of how we can install Kubernetes(K8s) delegate.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a class="hash-link" href="#prerequisites" title="Direct link to heading">​</a></h2><ul><li><p>Hypervisor technology (VirtualBox, VMWare, etc) is a mandate pre-requisite for Minikube and we have to choose the right one based on the platform we are on.</p><p>   <a href="https://minikube.sigs.k8s.io/docs/start/#what-youll-need" target="_blank" rel="noopener noreferrer">Prequisites for minikube</a></p></li><li><p>Installation section in the Minikube Getting Started documentation is well crafted and has steps for all Linux, Mac &amp; Windows along with the architecture and installer type details and the user just has to choose the required details, get the commands and run them!</p><p>  <a href="https://minikube.sigs.k8s.io/docs/start/" target="_blank" rel="noopener noreferrer">Installing Minikube</a>.</p></li><li><p>Minikube will download the required kubectl as part of the installation and configures it.</p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="installing-harness-delegate">Installing Harness Delegate<a class="hash-link" href="#installing-harness-delegate" title="Direct link to heading">​</a></h2><ul><li><p>Go to  <a href="https://app.harness.io" target="_blank" rel="noopener noreferrer">Harness</a></p></li><li><p>Go to Builds and under Project setup click delegates and then click on new delegates
<img loading="lazy" alt="delegate" src="/assets/images/4-3d3ab345f80bfaaa7d0868a7ae0c8426.png" width="546" height="1212" class="img_ev3q"></p></li></ul><ul><li><p>Click on kubernetes</p><p> <img loading="lazy" alt="kubernetes" src="/assets/images/5-fc22d84375eaafdb64ecaa549ed76e29.png" width="2520" height="1598" class="img_ev3q"></p></li><li><p><strong>Name</strong> your delegate and select the <strong>size of delegate</strong> and also select delegate permissions.
Please follow the correct naming convention for naming a delegate.</p><ul><li>It will show error when you insert any special characters except ‘-’ and make  sure name should not start or end with a number
<img loading="lazy" alt="delegate" src="/assets/images/6-2ab53979d9fa452d721843836c6bbcb9.png" width="2520" height="1628" class="img_ev3q"></li></ul></li></ul><blockquote><p>NOTE:These sizing requirements are for the Delegate only.Your cluster will require more memory for Kubernetes, the operating system, and other services,preferably one should have double the memory and node present in the cluster than that of required for the delegate for smooth functioning.</p></blockquote><ul><li><p>Download the yaml file
<img loading="lazy" alt="yaml" src="/assets/images/7-f6c7dc52fedc72a554761b28156a1024.png" width="2536" height="1624" class="img_ev3q"></p></li><li><p>After clicking on continue open the new terminal and open the directory where you have downloaded the yaml file  and then run the following command:</p><p>  <code>kubectl apply -f harness-delegate.yml</code></p><p><img loading="lazy" alt="download" src="/assets/images/8-051e887d0f26a1810ef908356d226731.png" width="1562" height="914" class="img_ev3q"></p></li><li><p>It may take few minutes for verification,after successful installation of delegate following message will be displayed:</p></li></ul><p><img loading="lazy" alt="download2" src="/assets/images/9-74a1daad9b9b29a72a40aa64ea147698.png" width="2656" height="1602" class="img_ev3q"></p><ul><li>You can go to the delegate section in the project setup and see the delegate you have installed:</li></ul><p><img loading="lazy" alt="delegate option" src="/assets/images/10-bbb497d1205bd8d218372b37076185b8.png" width="3512" height="794" class="img_ev3q"></p><ul><li>You can also delete your delegate when no longer in use  </li></ul><blockquote><p>Note: Our Kubernetes Delegates are immutable , that is you can only create and delete the delegate but you can’t make any changes to them.</p></blockquote>]]></content>
        <author>
            <name>Krishika Singh</name>
            <uri>https://github.com/krishi0408</uri>
        </author>
        <category label="continuous-integration" term="continuous-integration"/>
        <category label="continuous-delivery" term="continuous-delivery"/>
        <category label="connectors" term="connectors"/>
        <category label="harness" term="harness"/>
        <category label="cme" term="cme"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Beginners Guide to Git Connectors]]></title>
        <id>git-connector</id>
        <link href="https://harness-community.github.io/blog/git-connector"/>
        <updated>2022-10-09T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Are you confused with terminologies like Access Token, Access Control, and Personal Access Token while creating connectors? In this article, we will discuss a few such terminologies on the Harness platform, what they mean and what values should be entered against them.]]></summary>
        <content type="html"><![CDATA[<p>Are you confused with terminologies like Access Token, Access Control, and Personal Access Token while creating connectors? In this article, we will discuss a few such terminologies on the Harness platform, what they mean and what values should be entered against them. </p><p>So, in Harness when you are using CI/CD to build or deploy we need access to your source code repository and the enterprise cloud for deployments, and hence encrypted secrets are asked as input. In this blog, I have focused on the common errors faced by beginners while trying to setup GitHub connectors. </p><p>To begin with:</p><ol><li><p>Select new connector and from the new connector tab select Github under Code Repositories</p><p><img loading="lazy" alt="Connector Location" src="/assets/images/connector-location-2daa663294be46d3a52f0a330dd4dc2f.png" width="3456" height="1938" class="img_ev3q"></p></li><li><p>Now it’s time to give a name to your connector, but there’s some <a href="https://docs.harness.io/article/7rsydu6iq2" target="_blank" rel="noopener noreferrer">entity name convention</a> which you need to follow while naming it.
Some common errors observed here are :
For ease of understanding across orgs and easy identification, you can also add tags and give an apt description to your connector. </p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">![Overview](./overview.png)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>It’s time for one of the most confusing steps of the process, giving the exact address for your connector which comes in two levels</p><ol><li>Account </li><li>Repository</li></ol><p>What’s most intriguing and that first time user’s like me, made a mistake in selecting the connection type,  so the suggested method is HTTP for first timers for ease of use and you can fetch this URL for your repository directly from the search bar of your browser or from local clone information available in the repository, which has the following format <code>https://github.com/&lt;account-name&gt;</code> for account URL’s type and <code>https://github.com/&lt;account-name&gt;/&lt;repository-name&gt;</code> for Repository URLs.   </p><p><img loading="lazy" alt="Details" src="/assets/images/details-71b0558f2fc998bd3d4c81000e5d9853.png" width="2664" height="1280" class="img_ev3q"></p></li><li><p>Now, it’s time to add credentials, which are required for the authentication to GitHub repository. </p><p><img loading="lazy" alt="Credentials" src="/assets/images/credentials-d8684d24b2f699197fffad0b5d246b4f.png" width="2662" height="1276" class="img_ev3q"></p><p>The value in the username field is the same as your GitHub username, and now the most crucial step of adding credentials, is adding the Personal Access Token as a secret, for that, you need to generate the PAT for your account by allowing adequate repo source control permission, which could be done by following the steps <a href="https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token#creating-a-token" target="_blank" rel="noopener noreferrer">here</a>. Further if you already have a PAT as a secret you could just skip to selecting the same, or else you need to add the generated PAT by selecting the “+New Secrets” and mentioning the PAT under the “Secret Value” field.</p><p><img loading="lazy" alt="Secrets" src="/assets/images/secrets-ffbb531ab38f45f6cb9b31743a742a42.png" width="1638" height="1468" class="img_ev3q"></p><p>Be careful not to add your GitHub password under the secrets for GitHub, as some users tend to do this and the connector fails to connect. </p></li><li><p>Now while connecting to the provider it’s suggested to go for the connect through delegate step as it would allow delegates to perform tasks for you based on your requirements. </p><p><img loading="lazy" alt="Delegate-Setup" src="/assets/images/delegate-setup-95035e0a2b1267eeffdd551f05fcb46d.png" width="2958" height="1408" class="img_ev3q"></p></li><li><p>Going further to the Delegate Setup step, I would suggest using any available delegate as a beginner, or if you want to use a particular delegate, select the same and click on the empty field under the same to select and add the delegates. </p></li><li><p>What’s important to consider here is if you’re an absolute beginner using Harness for the first time, or have never created a delegate, please consider creating a delegate first by selecting the “Install new delegate” and following the resources mentioned <a href="https://docs.harness.io/article/0slo2gklsy-delegate-how-tos" target="_blank" rel="noopener noreferrer">here</a>, to move forward and add a connector. </p></li></ol><p>Need further help?
Feel free to ask questions at <a href="https://community.harness.io/c/harness/7" target="_blank" rel="noopener noreferrer">community.harness.io</a> or  <a href="https://join.slack.com/t/harnesscommunity/shared_invite/zt-y4hdqh7p-RVuEQyIl5Hcx4Ck8VCvzBw" target="_blank" rel="noopener noreferrer">join</a> community slack to chat with our engineers in product-specific channels like:</p><ol><li><a href="https://join.slack.com/t/harnesscommunity/shared_invite/zt-y4hdqh7p-RVuEQyIl5Hcx4Ck8VCvzBw" target="_blank" rel="noopener noreferrer">#continuous-delivery</a>  Get support regarding the CD Module of Harness.</li><li><a href="https://join.slack.com/t/harnesscommunity/shared_invite/zt-y4hdqh7p-RVuEQyIl5Hcx4Ck8VCvzBw" target="_blank" rel="noopener noreferrer">#continuous-integration</a> Get support regarding the CI Module of Harness.</li></ol>]]></content>
        <author>
            <name>Debabrata Panigrahi</name>
            <uri>https://github.com/Debanitrkl</uri>
        </author>
        <category label="continuous-integration" term="continuous-integration"/>
        <category label="continuous-delivery" term="continuous-delivery"/>
        <category label="connectors" term="connectors"/>
        <category label="harness" term="harness"/>
        <category label="cme" term="cme"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Getting started with the Harness Platform]]></title>
        <id>harness-getting-started</id>
        <link href="https://harness-community.github.io/blog/harness-getting-started"/>
        <updated>2022-10-07T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Hey !! new to the Harness Platform, we are here to help you find your way around.]]></summary>
        <content type="html"><![CDATA[<p>Hey&nbsp;!! new to the <strong>Harness Platform</strong>, we are here to help you find your way around.</p><p>Harness is the industry's first <strong>Software Delivery Platform</strong> to use AI to simplify your DevOps processes - CI, CD, Feature Flags, Cloud Costs, and much more.</p><p>Let's get started with a short introductory video about the harness platform.</p><div class="iframe-wrapper"><iframe src="https://www.youtube.com/embed/I4sbENt4IeM" frameborder="0" allow="autoplay; encrypted-media"></iframe></div><p>Hope you have got an idea of how interesting is the Harness Platform.</p><p>Don't forget to <a href="https://app.harness.io/auth/#/signin" target="_blank" rel="noopener noreferrer">signup</a> at Harness platform to play around with the product.</p><p>Let's dive deep and explore our products so that we can help you around with your goals.</p><p>Before starting we highly recommend you to go through some basic <a href="https://docs.harness.io/article/hv2758ro4e-learn-harness-key-concepts" target="_blank" rel="noopener noreferrer">key concepts</a> about Harness Platform.</p><h1>Harness CI(Continuous Integration)</h1><p>Harness CI simplifies the development and testing of code. In Harness Pipelines, you visually model your build and test processes as CI Stages. Each Stage includes steps for building, testing, and pushing your code.</p><p>Well let's get you started with your first pipeline, and we are sure you are going to enjoy it, Harness has step by step guide for building different sample pipelines for different languages, you can try any one of them or all of them:</p><ul><li><a href="https://github.com/harness-community/python-pipeline-samples" target="_blank" rel="noopener noreferrer">Python Sample Pipeline</a></li><li><a href="https://github.com/harness-community/nodejs-pipeline-samples" target="_blank" rel="noopener noreferrer">Node Sample Pipeline</a></li><li><a href="https://docs.harness.io/article/x0d77ktjw8-ci-pipeline-quickstart" target="_blank" rel="noopener noreferrer">Go Sample Pipeline</a></li></ul><p>Don't forget to through the docs as well as the courses:</p><ul><li><a href="https://docs.harness.io/category/zgffarnh1m-ci-category" target="_blank" rel="noopener noreferrer">Harness CI docs</a></li><li><a href="https://university.harness.io/page/continuous-integration" target="_blank" rel="noopener noreferrer">Harness CI University</a></li></ul><h1>Harness CD(Continuous Delivery)</h1><p>Harness CD is a Self-Service Continuous Delivery module that enables engineers to deploy on-demand without scripts, plugins, version dependencies, toil, downtime, and anger.</p><p>In each Stage, you define what you want to deploy using Services, where you want to deploy it using Environments, and how you want to deploy it using Execution steps.
You can refer to the docs below and get familiar with some basics as well deployment tutorials.</p><p>You can go through the following docs to get familiar with the basics as well as deployment tutorials as well as sample CD pipeline for you to try out:</p><ul><li><a href="https://github.com/harness-community/cd-pipeline-sample" target="_blank" rel="noopener noreferrer">CD Sample Pipeline</a></li><li><a href="https://docs.harness.io/category/pfzgb4tg05-howto-cd" target="_blank" rel="noopener noreferrer">CD how to</a></li></ul><p>You can go through Harness docs as well as Harness University courses to get clarity on Harness CD:</p><ul><li><a href="https://docs.harness.io/category/pfzgb4tg05-howto-cd" target="_blank" rel="noopener noreferrer">Harness CD Docs</a></li><li><a href="https://university.harness.io/page/continuous-delivery" target="_blank" rel="noopener noreferrer">Harness CD University</a></li></ul><h1>Feature Flags</h1><p>Empower product development teams to quickly release new features, with minimal risk. Test with a specified subset, or roll out to all customers.</p><p><strong>Feature flags</strong> create private swim lanes for developers where they can ship the feature directly to customers and then control who sees it, get feedback and turn it on and off when needed.</p><p>We recommend you follow the below blog and implement your first feature flag, I am sure you are going to love the way it works:</p><ul><li><a href="https://harness.io/blog/implement-your-first-feature-flag" target="_blank" rel="noopener noreferrer">Implement your first Feature Flag</a></li></ul><p>There are some well curated courses as well as docs on Feature Flags that will help you get a much deeper insight into the product&nbsp;:</p><ul><li><a href="https://docs.harness.io/category/vjolt35atg-feature-flags" target="_blank" rel="noopener noreferrer">Harness Feature Flags Docs</a></li><li><a href="https://university.harness.io/page/harness-feature-flags" target="_blank" rel="noopener noreferrer">Harness Feature Flags University Course</a></li></ul><h1>Cloud Cost Management(CCM)</h1><p>Harness Cloud Cost Management empowers engineers with cloud cost visibility of their apps, microservices, and clusters. The best part? Tagging isn't required.</p><p>Harness provides curated docs as well as courses that can surely help you out with the concept of CCM:</p><ul><li><a href="https://docs.harness.io/category/exgoemqhji-ccm" target="_blank" rel="noopener noreferrer">Harness CCM docs</a></li><li><a href="https://university.harness.io/page/harness-cloud-cost-management" target="_blank" rel="noopener noreferrer">Harness CCM University Course</a></li></ul><h1>Service Reliability Management</h1><p>Harness Service Reliability Management (SRM) module helps engineering and DevOps teams to balance feature velocity and bug fixes along with the stability and reliability needs in a production environment.</p><p>You can refer to the below docs as well as some organized courses and get yourself onboard with the basics as well the usage of Service Reliability Management:</p><ul><li><a href="https://docs.harness.io/category/ko19u4brsv-howtos-service-reliability-management" target="_blank" rel="noopener noreferrer">Harness SRM Blogs</a></li></ul><p>Those who want to try out SRM, we recommend them to go through the Harness SRM Practitioner exam it will help you in gaining much deeper product knowledge:</p><ul><li><a href="https://university.harness.io/path/srm-practitioner/srm-comprehensive-quiz" target="_blank" rel="noopener noreferrer">SRM Practitioner Exam</a></li></ul><h1>Chaos Engineering</h1><p>Chaos engineering is the discipline of experimenting with a software system in production to build confidence in the system's capability to withstand turbulent and unexpected conditions.</p><p>You can go through the below docs and learn more about chaos engineering, we recommend you go through the quick-start guide provided in the documentation and try out your first chaos experimentation:</p><ul><li><a href="https://university.harness.io/path/harness-chaos-engineering-practitioner" target="_blank" rel="noopener noreferrer">Chaos Engineering Docs</a></li></ul><p>Harness has structured courses on Chaos Engineering and those who want to try chaos engineering should surely give the Harness Chaos Practitioner Exam:</p><ul><li><a href="https://university.harness.io/path/harness-chaos-engineering-practitioner" target="_blank" rel="noopener noreferrer">Harness Chaos Practitioner Exam</a></li></ul><h1>Security Testing Orchestration</h1><p>Harness Security Testing Orchestration (STO) enables DevOps and DevSecOps teams to left shift security testing. STO orchestrates scanning, intelligently deduplicating scanner output, prioritizing remediations, and enforcing governance into your Pipeline.</p><p>STO puts scanning directly into your Pipelines to ensure that vulnerabilities are caught and fixed before your products are ever released.</p><p>You can surely have a look in the below video about the introduction as well as a demo of STO:</p><div class="iframe-wrapper"><iframe src="https://www.youtube.com/embed/dIT8utE_fvU" frameborder="0" allow="autoplay; encrypted-media"></iframe></div><p>You can go through the below docs and get through the basics of the product:</p><ul><li><a href="https://docs.harness.io/category/txlccquh5c-sto-category" target="_blank" rel="noopener noreferrer">Security Testing Orchestration docs</a></li></ul><h1>Software Delivery Foundations Certification</h1><p>You can also give Harness Software Delivery Foundations Certification, it will surely help you in getting much deeper knowledge about the&nbsp;product.</p><ul><li><a href="https://university.harness.io/page/certifications" target="_blank" rel="noopener noreferrer">Software Delivery Foundations Certification</a></li></ul><h1>Important links</h1><ul><li><a href="https://docs.harness.io" target="_blank" rel="noopener noreferrer">Harness Docs</a></li><li><a href="https://harness.io/blog/" target="_blank" rel="noopener noreferrer">Harness Blogs</a></li><li><a href="http://university.harness.io" target="_blank" rel="noopener noreferrer">Harness University</a></li></ul><p>🌈Join the growing community on Slack, refer <a href="https://github.com/harness-community/overview/blob/main/community_communication_guide.rst" target="_blank" rel="noopener noreferrer">Harness Community Communications Guide</a> to interact with the wider community users/contributors, or create topics in <a href="https://community.harness.io" target="_blank" rel="noopener noreferrer">community.harness.io</a></p><p>We at Harness are always there to help our community, feel free to slack us on our Community Slack channel (P.S don't forget to join the channel). You can also reach out to us at <a href="https://community.harness.io" target="_blank" rel="noopener noreferrer">discourse</a>.</p>]]></content>
        <author>
            <name>Krishika Singh</name>
            <uri>https://github.com/krishi0408</uri>
        </author>
        <category label="harness" term="harness"/>
        <category label="beginners-guide" term="beginners-guide"/>
        <category label="getting-started" term="getting-started"/>
        <category label="cme" term="cme"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Harness CI - Background Step]]></title>
        <id>harness-ci-background-step</id>
        <link href="https://harness-community.github.io/blog/harness-ci-background-step"/>
        <updated>2022-10-05T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Introduction]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a class="hash-link" href="#introduction" title="Direct link to heading">​</a></h2><p>Background steps are useful for running services that need to run for the entire lifetime of a build. This can be used when user wants to run something in background throughout the stage execution or when you want to run an end to end test, redis service or mysql local service to run some operations  </p><p><img loading="lazy" alt="Background Step Introduction" src="/assets/images/background_step_introduction-19ceae8378b8b5798e151431bd29f020.png" width="1446" height="389" class="img_ev3q"></p><p>Before diving deep into background step further, let’s talk about service dependencies, how it helped and what were the shortcomings that service dependencies had that we have to introduce the background step </p><p><strong>Service Dependency</strong> is a detached service that's accessible to all steps in a stage. Service dependencies support workflows such as</p><ul><li><strong>Integration testing:</strong> You can set up a service and then run tests against this service.</li><li><strong>Running Docker-in-Docker:</strong> You can set up a dind service to process Docker commands in Run Steps.</li></ul><p>Well you can see how important it was to introduce service dependency in your pipeline but then why did we introduce the background step?</p><p>Well service dependency did have some shortcomings which background step could solve easily for example:</p><ol><li><p>Suppose you want to run a cypress server which needs some custom commands to start, you won’t be able to do that with a service dependency but with a background step as it accepts commands so with the help of that you can write a script and run any service.</p></li><li><p>Suppose you want redis,postgres and node js server to run together,with the help of service dependency you will have to define it separately but with the background step you can easily do that by adding a docker compose file ( the docker file either needs to be downloaded or we can easily use the one present in the git repo) and then doing docker-compose up with the help of command functionality. </p></li></ol><p><img loading="lazy" alt="Background Step Pipeline" src="/assets/images/background_step_pipeline-123ee78afe95a2e89c2277a3fbee8424.png" width="1268" height="552" class="img_ev3q"></p><p>We discussed about some of the shortcomings of service dependency that background step could solve, let’s have a detailed look on three of the major differences between the two:</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="background-step-support-commands">Background step support commands<a class="hash-link" href="#background-step-support-commands" title="Direct link to heading">​</a></h3><p><img loading="lazy" alt="Background Step Settings" src="/assets/images/background_step_settings-f2e9f10bf2a34dce91de075032e95b02.png" width="1198" height="1506" class="img_ev3q"></p><p>Let’s say you are running some local server and you want to run some pre command or you want to fetch some file before running the server , there is an optional field called command in the background step. With the support of this optional functionality it acts as a run step now .</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="background-step-can-be-added-anywhere-in-the-pipeline-execution">Background step can be added anywhere in the pipeline execution<a class="hash-link" href="#background-step-can-be-added-anywhere-in-the-pipeline-execution" title="Direct link to heading">​</a></h3><p>The background step can be added anywhere during the pipeline execution, thus making it flexible for the user.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="background-step-supports-templatization">Background step supports Templatization<a class="hash-link" href="#background-step-supports-templatization" title="Direct link to heading">​</a></h3><p>The background step supports templates that can be reused across Pipelines which enhance developer productivity,reduce onboarding time,and enforce standardization across the teams.
Also ,the background step supports sequential approvals, that is when one step is completed then only you can move to the other step,whereas service dependency was running all the commands at the same time.</p><p>To know more about templates visit <a href="https://docs.harness.io/article/6tl8zyxeol-template" target="_blank" rel="noopener noreferrer">Templates</a>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="some-important-points">Some important points:<a class="hash-link" href="#some-important-points" title="Direct link to heading">​</a></h4><ul><li><p>A Background step starts a service and then proceeds. For any later step that relies on the service,it is good practice to verify that the service is running before you send requests.</p></li><li><p>If the pipeline runs on a VM build infrastructure, you can run the background service directly on the VM rather than in a container.To do this, leave the Container Registry and Image fields blank.</p></li></ul>]]></content>
        <author>
            <name>Krishika Singh</name>
            <uri>https://github.com/krishi0408</uri>
        </author>
        <category label="continuous-integration" term="continuous-integration"/>
        <category label="integration-test" term="integration-test"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Harness CI Onboarding - Beginners Guide]]></title>
        <id>harness-ci-onboarding</id>
        <link href="https://harness-community.github.io/blog/harness-ci-onboarding"/>
        <updated>2022-10-05T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Introduction]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a class="hash-link" href="#introduction" title="Direct link to heading">​</a></h2><p>This beginner guide aims to help learners learn about the basic components of Harness CI and develop an understanding of the DevOps ecosystem involved in the Software Development lifecycle. In this article we will learn about the basic features of Harness CIE and also get started by building the first basic sample pipeline.</p><p>Engineering team is usually expected to deliver error-free code at high frequency. A fast and reliable CI/CD pipeline is a major part for implementation of that in a sustainable model over time. Harness Continuous Integration tool which is built with test intelligence, native secrets, fine-grained RBAC, and extensible governance  as one of the best solutions in the marketplace for automated pipelines. Automated pipelines remove user errors, provide feedback loops to developers and helps enable fast product iterations.</p><p><strong>What is a pipeline?</strong></p><p>A Pipeline is an end-to-end process that delivers a new version of your software. It can be considered to be a cyclical process that includes integration, delivery, operations, testing, deployment, real-time updates, and metrics monitoring.</p><p>For example: A pipeline can use the CI module of Harness to build, test &amp; push code and then also a CD module to deploy the artifact to the production environment.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a class="hash-link" href="#prerequisites" title="Direct link to heading">​</a></h3><ul><li>Github Account (<a href="https://docs.harness.io/article/kqik8km5eb-source-code-manager-settings#source-code-manager-settings" target="_blank" rel="noopener noreferrer">Check out the other source code managers here</a>)</li><li>Docker Hub Account &amp; Repository (<a href="https://docs.harness.io/article/66ykcm0sf0-build-and-push-to-gcr-step-settings" target="_blank" rel="noopener noreferrer">Other artifactory packages</a>)</li><li>Installation of K8s Delegate for Harness Delegate</li><li>About Harness CI</li><li>Features in Harness CI</li><li>Getting Started with your first pipeline</li><li>Troubleshooting frequently encountered issues</li><li>Conclusion: Developer Feedback on Harness CIE</li><li>What’s Next?</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="environment">Environment<a class="hash-link" href="#environment" title="Direct link to heading">​</a></h3><ul><li>Ubuntu 20.04/22.04</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="requirements">Requirements<a class="hash-link" href="#requirements" title="Direct link to heading">​</a></h3><ul><li>Kubernetes cluster for Harness Delegate and build farm.</li><li>You'll need a Kubernetes cluster for Harness to use for the Harness Delegate and as a build farm. Ensure you have a cluster that meets the following requirements:</li><li>Number of pods: 3 (two pods for the Harness Delegate, the remaining pod for the build farm).</li><li>Machine type: <code>4vCPU</code></li><li>Memory: 16GB RAM. The build farm and Delegate requirements are low but the remaining memory is for Kubernetes, the Docker container, and other default services.</li><li>Networking: Outbound <code>HTTPS</code> for the Harness connection, and to connect to Docker Hub. Allow TCP port 22 for SSH.</li><li>Namespace: When you install the <code>Harness Delegate</code>, it will create the <code>harness-delegate</code> namespace. You'll use the same namespace for the build farm.</li></ul><p>A <strong>Kubernetes service account</strong> with permission to create entities in the target namespace is required. The set of permissions should include <code>list</code>, <code>get</code>, <code>create</code>, and <code>delete</code> permissions. In general, the cluster-admin permission or namespace admin permission is enough.
For more information see <a href="https://kubernetes.io/docs/reference/access-authn-authz/rbac/#user-facing-roles" target="_blank" rel="noopener noreferrer">User-Facing Roles</a> from Kubernetes.</p><p>This tutorial implements creation of a pipeline over a github repository thus you’ll be required to create a github account &amp; host a project over a repository. To create a new repository on github follow these steps:</p><ol><li>Move to the upper-right corner on the github webapp &amp; use the  drop-down menu to select New repository option.</li></ol><p><img loading="lazy" alt="create-new-repository" src="/assets/images/repo-create-ba4bc7a2ad541270d85b12a1b30d61da.png" width="192" height="201" class="img_ev3q"></p><ol start="2"><li>Type the name of the repository. The repository name is unique &amp; cannot be same as already hosted repo names.</li></ol><p><img loading="lazy" alt="repo-name" src="/assets/images/create-repository-desc-d047c18e7b4c9821faa90fdc826b9dd4.png" width="808" height="335" class="img_ev3q"></p><ol start="3"><li>Select the repository visibility &amp; click on create repository.</li></ol><p><img loading="lazy" alt="repo-public" src="/assets/images/create-repository-public-private-aa8d0703e0ada95178c150a84eb7b64e.png" width="750" height="302" class="img_ev3q"></p><p><img loading="lazy" alt="create-repo" src="/assets/images/repo-create-ba4bc7a2ad541270d85b12a1b30d61da.png" width="192" height="201" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="installing-docker-engine">Installing Docker Engine<a class="hash-link" href="#installing-docker-engine" title="Direct link to heading">​</a></h3><p>To get started with Docker Engine make sure you meet the <a href="https://docs.docker.com/engine/install/ubuntu/#prerequisites" target="_blank" rel="noopener noreferrer">prerequisites</a> then install Docker. Older versions of Docker were called <code>docker</code>, <code>docker.io</code>, or <code>docker-engine</code>. If these are installed uninstall them with this command.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt-get</span><span class="token plain"> remove </span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> docker-engine docker.io containerd runc</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong><a href="https://docs.docker.com/engine/install/" target="_blank" rel="noopener noreferrer">Check out this documentation to get your Docker Engine installed</a></strong></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="installation-of-k8s-delegate-for-harness-delegate">Installation of K8s Delegate for Harness Delegate<a class="hash-link" href="#installation-of-k8s-delegate-for-harness-delegate" title="Direct link to heading">​</a></h3><p>Harness Delegate is the service that connects all the components of the pipeline i.e artifact, infrastructure, collaboration, verification and other providers with the Harness Manager. It performs all the operations in the deployment lifecycle. Here we’ll install Kubernetes Delegate.</p><ol><li>Move to the Harness Platform, in the Manager section click on setup and select Delegates.</li><li>In the delegates tab, click on the install delegate option with preference to Kubernetes YAML as the download type.</li><li>Update the name and profile and download the K8s Delegate or copy the download link.</li><li>Navigate to the harness-delegate-kubernetes folder that you extracted in the terminal using the following command</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">tar</span><span class="token plain"> -zxvf harness-delegate-kubernetes.tar.gz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">cd</span><span class="token plain"> harness-delegate-kubernetes</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>With this you will directly connect with your cluster from the terminal and thus can easily copy the YAML file over.</p><ol start="5"><li>To verify the connection of your created K8s Delegate with the Harness Platform use the following command</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> -p https://app.harness.io/ -O /dev/null</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="6"><li>Now we’ll install the harness delegate using the <code>harness-delegate.yaml</code> file using this command</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f harness-delegate.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="7"><li>To verify that the delegate pod was created run the following command.</li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get pods -n harness-delegate</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>With this now you're ready to connect Harness to your artifact servers, clusters, and so on.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="about-harness-ci">About Harness CI<a class="hash-link" href="#about-harness-ci" title="Direct link to heading">​</a></h3><p>Harness CI is powered by Drone the most popular open source CI tool. It’s built for speed and developer experience. Onboarding it is simple and this is what this guide is about.</p><p>Harness alongside the open source counterpart Drone introduced new features to scale the developer onboarding experience and reduce the time involved in the process drastically as compared to the industry standards.</p><p><strong>Harness CI’s major features are the following:</strong></p><ol><li>Containerized Steps (Zero Dependencies)</li><li>Visual Pipeline Builder with YAML Config as Code</li><li>Git Operations, Secrets &amp; Fine grained RBAC for security etc</li><li>Test Intelligence</li><li>Integrated Platform</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="getting-started-with-your-first-pipeline">Getting Started with your first pipeline<a class="hash-link" href="#getting-started-with-your-first-pipeline" title="Direct link to heading">​</a></h3><p>Pipelines are a group of one or more stages. They are responsible for managing and automating builds, testing, deployments, and other important build and release stages.</p><p>To create a new Pipeline in Harness CI follow the steps below:</p><ol><li>Move to the Harness Platform, click on projects. Create a new project incase you haven’t already created one.</li><li>Move to the modules section and click on Continuous Integration &amp; click on create a new pipeline.</li><li>Enter the name for the pipeline &amp; click on start. It usually takes 2-4 min for the provisioning stage of the pipeline.</li></ol><div class="iframe-wrapper"><iframe src="https://www.youtube.com/embed/251WU_OG0BI" frameborder="0" allow="autoplay; encrypted-media"></iframe></div><p>The backbone of the pipeline is the build stage. This is where the user specifies the pipeline configuration details as the codebase to build, the infrastructure, the build workflow and all other additional components. The next step involves establishing the connection of the pipeline with the external resource. We use a <code>connector</code> in Harness CIE to develop this pipeline connection. The <code>connector</code> is a configurable object that automatically establishes connection to an external resource. </p><p>To create the Build Stage follow the steps given below: </p><ol><li><p>Move to the newly created pipeline in the Pipeline Studio, add a stage &amp; select build.</p></li><li><p>Add a stage name &amp; under the configure codebase select connect connector.</p></li><li><p>Click on New Creator &amp; give preference to Github Connector from all the available options for connector type. </p></li></ol><p>To configure the connector successfully provide the following details i.e
a. URL Type as a Repository
b. Connection Type as HTTP
c. GitHub Repository URL</p><p>You’ll also have to verify the github username &amp; PAT’s to make use of the connector. These secrets are stored in the Harness Secret Manager. </p><ol start="4"><li><p>Once the connector has been configured with the necessary credentials select Enable API Access.</p></li><li><p>The connectivity medium can be directly through Harness Platform or through an delegate service running in an external resource. </p></li><li><p>In this guide we’ll install the delegate into the K8s cluster. Select Connect Through An Harness Delegate from the available options.</p></li><li><p>Install the new delegate with infrastructure type as Kubernetes.</p></li><li><p>Configure the delegate information as Name, Size, Permissions etc &amp; install the delegate using the workspace definition YAML file that can be installed directly to the build infrastructure.</p></li><li><p>Download the YAML script and run it on the previously created cluster from the terminal.</p></li><li><p>Login to the K8s cluster from the same terminal and click on connect option.</p></li><li><p>Install the Harness Delegate using the <code>harness-delegate.yaml</code> file using the following command.</p></li></ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ kubectl apply -f harness-delegate.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="12"><li><p>Set up the Delegate with the necessary configuration from the Delegate Setup option.</p></li><li><p>Once the delegate is setup successfully you’ll see the connector &amp; repo details in the About your stage component.</p></li><li><p>Select on setup stage and the new stage will be added to the pipeline.</p></li></ol><p>The next step is to set up &amp; define the Build Farm Infrastructure under the pipeline configuration settings. To setup the BFI follow the steps below:</p><ol><li>Select the newly created K8s cluster &amp; create a new connector. Specify details as Name, Details, Delegates Setup &amp; Connection Test.</li><li>Once verified click on Finish to add the new connector to the K8s Cluster Field.</li><li>Verify the namespace carefully and move to the Execution component of the pipeline.</li></ol><p>Now we can build &amp; run tests over &amp; against the hosted code. Move to the Execution Tab of the pipeline &amp; add the step to run the steps. Follow the following steps to setup the Execution workflow of the pipeline:</p><ol><li><p>Add a run step to the pipeline &amp; configure it as follows: </p><ul><li>Give the step an appropriate name</li><li>Click on add a new connector option under the container registry option.</li><li>Select the connector type as Docker Registry</li></ul></li><li><p>We’ll now create a new connector to the DockerHub account. Specify the account credentials and configure the secrets.</p></li></ol><p><img loading="lazy" alt="docker-img" src="/assets/images/ci-tut-04-docker-connector-02-details-694e13ae74e3e5c8cb93f30da56c6471.png" width="583" height="437" class="img_ev3q"></p><ol start="3"><li>Verify the connection test &amp; once successful click on Finish. Now we can Configure Run Step pane, with the new Connector in the Container Registry setting.
Configure the step as follows:</li></ol><ul><li>Give an appropriate step name.</li><li>The Container Registry should show the Docker Hub Connector you just created.</li><li>Image: <code>golang:1.15</code></li><li>Command:</li></ul><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">go get gotest.tools/gotestsum</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gotestsum --format</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">standard-verbose --junitfile unit-tests.xml </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">CGO_ENABLED</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">GOOS</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">linux </span><span class="token assign-left variable" style="color:#36acaa">GOARCH</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">amd64 go build -a -tags netgo</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The last line contains the go build command to compile the package, along with its dependencies. Once configured click on Apply changes &amp; save the pipeline.</p><p>Now we can add the step to build &amp; push the created image into the DockerHub repository. A repository in DockerHub is required to receive the artifacts from the pipeline. Add a step and specify the DockerHub account credentials. </p><p>Configure the step as follows:</p><ul><li>Select Name as the Step name you defined earlier.</li><li>Select the Docker Hub Connector you set up previously.</li><li>Paste the docker repository URL &amp; specify the tags: <code>&lt;+pipeline.sequenceId&gt;</code></li><li>After successfully configuring the step components select Apply Changes &amp; save the pipeline.</li></ul><p>The pipeline is now ready for execution &amp; can be used for running tests.
You can also add the Integration Tests to the pipeline. To execute the pipeline click on Run. Select Git Branch and the git branch name when prompted such as main and click on Run Pipeline</p><p>You can view the logs of each step by clicking on it or else can also switch to the console view for more tracking down the micro details.
The entire pipeline is also available in YAML. You can directly make changes to the YAML file and save the changes and it will automatically be reflected in the pipeline when executed.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion---developer-feedback-on-harness-cie">Conclusion - Developer Feedback on Harness CIE<a class="hash-link" href="#conclusion---developer-feedback-on-harness-cie" title="Direct link to heading">​</a></h3><p>Developers spend a lot of time into coding &amp; solving the engineering problems. With Harness CIE we can now easily cut down the operational &amp; functional time cost drastically. The added advantage to the features of CIE is the User Interface of CIE which is sleek and easy
&amp; solves major issues of longer build and testing time. Harness CIE automatically scales up the build, test and deploy cycles. </p><p>The product focuses on developers &amp; is completely developer-centric built around what a developer seeks to be the one stop solution for CI/CD.</p>]]></content>
        <author>
            <name>Dhrubajyoti Chakraborty</name>
            <uri>https://github.com/codewdhruv</uri>
        </author>
        <category label="continuous-integration" term="continuous-integration"/>
        <category label="harness-ci" term="harness-ci"/>
        <category label="beginners-guide" term="beginners-guide"/>
        <category label="getting-started" term="getting-started"/>
        <category label="cme" term="cme"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Welcome]]></title>
        <id>welcome</id>
        <link href="https://harness-community.github.io/blog/welcome"/>
        <updated>2022-10-01T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Hey y'all amazing users of Harness Community!]]></summary>
        <content type="html"><![CDATA[<p>Hey y'all amazing users of Harness Community!</p><p>Now, it's easy to submit your blog/articles and it's just a PR away!</p><p>Simply create a PR by adding Markdown files (or folders) to the <code>blog</code> directory in <a href="https://github.com/harness-community/harness-community.github.io" target="_blank" rel="noopener noreferrer">harness-community.github.io</a> repository!</p><p>A blog post folder can be convenient to co-locate blog post images abd can be displayed like below:</p><p><img loading="lazy" alt="Harness Community" src="/assets/images/harnesser-396d47c77cd8f7af31887571607a7ed0.png" width="2560" height="801" class="img_ev3q"></p><p>Oh and the other cool thing is, you can directly embed Youtube videos to your blog post and users can watch it on the same page and of course on a new tab if they want to;)</p><div class="iframe-wrapper"><iframe src="https://www.youtube.com/embed/I4sbENt4IeM" frameborder="0" allow="autoplay; encrypted-media"></iframe></div><p>The blog supports tags as well! so refer the list of available tags and add it to your blog post!</p><p>Stay tuned for more improvements as this site is still in development phase:)</p><p>Any contributions are welcome!</p>]]></content>
        <author>
            <name>Ompragash Viswanathan</name>
            <uri>https://github.com/Ompragash</uri>
        </author>
        <category label="community" term="community"/>
        <category label="blog" term="blog"/>
        <category label="newuser" term="newuser"/>
        <category label="ompragash" term="ompragash"/>
    </entry>
</feed>